{
  "comments": [
    {
      "key": {
        "uuid": "5aa745d1_0312d2b4",
        "filename": "midonet-cluster/src/main/scala/org/midonet/cluster/services/c3po/translators/ListenerV2Translator.scala",
        "patchSetId": 1
      },
      "lineNbr": 57,
      "author": {
        "id": 1002821
      },
      "writtenOn": "2016-12-02T09:00:37Z",
      "side": 1,
      "message": "This would be slightly easier to read if it were lbRouterPeerIds, making it explicit that it\u0027s a list of IDs rather than a list of ports.",
      "range": {
        "startLine": 57,
        "startChar": 12,
        "endLine": 57,
        "endChar": 25
      },
      "revId": "81c7cca47eefbba8b25f00aa11e55e083454cc98",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5aa745d1_0379b2fc",
        "filename": "midonet-cluster/src/main/scala/org/midonet/cluster/services/c3po/translators/ListenerV2Translator.scala",
        "patchSetId": 1
      },
      "lineNbr": 63,
      "author": {
        "id": 1002821
      },
      "writtenOn": "2016-12-02T09:00:37Z",
      "side": 1,
      "message": "What \"maps\" means here might be confusing. How about \"LB router has no router interface port connected to the VIP port\"? Or maybe Ryu or Takashi can comment on what the appropriate Neutron terminology is.",
      "range": {
        "startLine": 63,
        "startChar": 56,
        "endLine": 63,
        "endChar": 66
      },
      "revId": "81c7cca47eefbba8b25f00aa11e55e083454cc98",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5aa745d1_836dc234",
        "filename": "midonet-cluster/src/main/scala/org/midonet/cluster/services/c3po/translators/ListenerV2Translator.scala",
        "patchSetId": 1
      },
      "lineNbr": 87,
      "author": {
        "id": 1002821
      },
      "writtenOn": "2016-12-02T09:00:37Z",
      "side": 1,
      "message": "default_pool_id is updateable.",
      "revId": "81c7cca47eefbba8b25f00aa11e55e083454cc98",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5aa745d1_63d876f0",
        "filename": "midonet-cluster/src/test/scala/org/midonet/cluster/services/c3po/translators/ListenerV2TranslatorIT.scala",
        "patchSetId": 1
      },
      "lineNbr": 46,
      "author": {
        "id": 1002821
      },
      "writtenOn": "2016-12-02T09:00:37Z",
      "side": 1,
      "message": "What about other scenarios (like with pool already existing)? Is this patch still WIP, or is that coming in a later patch? Or am I covering it in my Pool translation tests?",
      "range": {
        "startLine": 45,
        "startChar": 0,
        "endLine": 46,
        "endChar": 47
      },
      "revId": "81c7cca47eefbba8b25f00aa11e55e083454cc98",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5aa745d1_1279fafc",
        "filename": "midonet-cluster/src/test/scala/org/midonet/cluster/services/c3po/translators/ListenerV2TranslatorIT.scala",
        "patchSetId": 1
      },
      "lineNbr": 46,
      "author": {
        "id": 1003629
      },
      "writtenOn": "2016-12-05T02:17:17Z",
      "side": 1,
      "message": "Pool already existing was going to come after your pool translations went in (at which point I was going to add it here).",
      "parentUuid": "5aa745d1_63d876f0",
      "range": {
        "startLine": 45,
        "startChar": 0,
        "endLine": 46,
        "endChar": 47
      },
      "revId": "81c7cca47eefbba8b25f00aa11e55e083454cc98",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5aa745d1_234b8eb2",
        "filename": "midonet-cluster/src/test/scala/org/midonet/cluster/services/c3po/translators/ListenerV2TranslatorIT.scala",
        "patchSetId": 1
      },
      "lineNbr": 58,
      "author": {
        "id": 1002821
      },
      "writtenOn": "2016-12-02T09:00:37Z",
      "side": 1,
      "message": "Can you use the createLbV2 function I defined in my Pool/PoolMember translation patch (in progress), and define a similar createLbV2Listener function? It makes creating stuff much more concise (one statement vs. three).",
      "range": {
        "startLine": 56,
        "startChar": 8,
        "endLine": 58,
        "endChar": 64
      },
      "revId": "81c7cca47eefbba8b25f00aa11e55e083454cc98",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5aa745d1_f27d6ee8",
        "filename": "midonet-cluster/src/test/scala/org/midonet/cluster/services/c3po/translators/ListenerV2TranslatorIT.scala",
        "patchSetId": 1
      },
      "lineNbr": 58,
      "author": {
        "id": 1003629
      },
      "writtenOn": "2016-12-05T02:17:17Z",
      "side": 1,
      "message": "I can, but I will need to base off of your patch, and your patch must go in (i.e. will become a dependency) before this one.",
      "parentUuid": "5aa745d1_234b8eb2",
      "range": {
        "startLine": 56,
        "startChar": 8,
        "endLine": 58,
        "endChar": 64
      },
      "revId": "81c7cca47eefbba8b25f00aa11e55e083454cc98",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5aa745d1_432fbaa1",
        "filename": "nsdb/src/main/proto/neutron.proto",
        "patchSetId": 1
      },
      "lineNbr": 212,
      "author": {
        "id": 1002897
      },
      "writtenOn": "2016-12-02T09:28:36Z",
      "side": 1,
      "message": "why did you change this?",
      "range": {
        "startLine": 212,
        "startChar": 18,
        "endLine": 212,
        "endChar": 34
      },
      "revId": "81c7cca47eefbba8b25f00aa11e55e083454cc98",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5aa745d1_d28272c8",
        "filename": "nsdb/src/main/proto/neutron.proto",
        "patchSetId": 1
      },
      "lineNbr": 212,
      "author": {
        "id": 1003629
      },
      "writtenOn": "2016-12-05T02:17:17Z",
      "side": 1,
      "message": "Change load_balancer_id?  Or change the entire protobuf definition?\n\nFor the former, load_balancer_id is the field that will be used in translations, so it\u0027s the field that must be sent for the translation to know which LB this listener is getting created on.\n\nFor the latter, several fields are unused in translations, and I thought our policy is to not bother with fields that we won\u0027t use, so I removed them from the protobufs.",
      "parentUuid": "5aa745d1_432fbaa1",
      "range": {
        "startLine": 212,
        "startChar": 18,
        "endLine": 212,
        "endChar": 34
      },
      "revId": "81c7cca47eefbba8b25f00aa11e55e083454cc98",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5aa745d1_a97778d3",
        "filename": "nsdb/src/main/proto/neutron.proto",
        "patchSetId": 1
      },
      "lineNbr": 212,
      "author": {
        "id": 1002897
      },
      "writtenOn": "2016-12-05T12:55:32Z",
      "side": 1,
      "message": "the former.\n\ni don\u0027t see why the existing \"loadbalancers\" needs to be changed.",
      "parentUuid": "5aa745d1_d28272c8",
      "range": {
        "startLine": 212,
        "startChar": 18,
        "endLine": 212,
        "endChar": 34
      },
      "revId": "81c7cca47eefbba8b25f00aa11e55e083454cc98",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5aa745d1_fa81c0fc",
        "filename": "nsdb/src/main/proto/neutron.proto",
        "patchSetId": 1
      },
      "lineNbr": 212,
      "author": {
        "id": 1003629
      },
      "writtenOn": "2016-12-06T01:41:52Z",
      "side": 1,
      "message": "I guess I don\u0027t understand.  Is the loadbalancer_id field not actually sent to the translateCreate function?\n\nFrom the REST API definition: \n\n    \u0027listeners\u0027: {\n        ...\n        \n        \u0027loadbalancer_id\u0027: {\u0027allow_post\u0027: True, \u0027allow_put\u0027: False,\n                            \u0027validate\u0027: {\u0027type:uuid\u0027: None},\n                            \u0027is_visible\u0027: False},\n        \u0027loadbalancers\u0027: {\u0027allow_post\u0027: False, \u0027allow_put\u0027: False,\n                          \u0027is_visible\u0027: True},...\n\n(shared pools only changes the type, not the basic definition).\n\nBut from the data_models code, I can see:\n\n\n    def to_api_dict(self):\n        ret_dict \u003d super(Listener, self).to_dict(\n            loadbalancer\u003dFalse, loadbalancer_id\u003dFalse, default_pool\u003dFalse,\n            operating_status\u003dFalse, provisioning_status\u003dFalse,\n            sni_containers\u003dFalse, default_tls_container\u003dFalse)\n        # NOTE(blogan): Returning a list to future proof for M:N objects\n        # that are not yet implemented.\n        ret_dict[\u0027loadbalancers\u0027] \u003d []\n        if self.loadbalancer:\n            ret_dict[\u0027loadbalancers\u0027].append({\u0027id\u0027: self.loadbalancer.id})\n\nDoes this mean that while, the \"loadbalancers\" list is neither POST or PUTable, and while you MUST send in the \"loadbalancer_id\" UUID upon object creation, that the \"loadbalancers\" field (which is a list of only one member) is the one we will receive from neutron during object creation, and NOT the POSTable \"loadbalancers_id\" field which is more straightforward?  That seems pretty confusing.",
      "parentUuid": "5aa745d1_a97778d3",
      "range": {
        "startLine": 212,
        "startChar": 18,
        "endLine": 212,
        "endChar": 34
      },
      "revId": "81c7cca47eefbba8b25f00aa11e55e083454cc98",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5aa745d1_1abb4cc6",
        "filename": "nsdb/src/main/proto/neutron.proto",
        "patchSetId": 1
      },
      "lineNbr": 212,
      "author": {
        "id": 1002740
      },
      "writtenOn": "2016-12-06T02:12:54Z",
      "side": 1,
      "message": "So loadbalancer_id is what gets sent (not load_balancer_id, btw).  I guess you can keep loadbalancers to be future proof as well?  In case you can associate multiple load balancers in one shot whenever it\u0027s implemented?",
      "parentUuid": "5aa745d1_fa81c0fc",
      "range": {
        "startLine": 212,
        "startChar": 18,
        "endLine": 212,
        "endChar": 34
      },
      "revId": "81c7cca47eefbba8b25f00aa11e55e083454cc98",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5aa745d1_baca184e",
        "filename": "nsdb/src/main/proto/neutron.proto",
        "patchSetId": 1
      },
      "lineNbr": 212,
      "author": {
        "id": 1002740
      },
      "writtenOn": "2016-12-06T02:15:18Z",
      "side": 1,
      "message": "Looks like loadbalancer_id vs load_balancer_id is addressed in patch 304240",
      "parentUuid": "5aa745d1_1abb4cc6",
      "range": {
        "startLine": 212,
        "startChar": 18,
        "endLine": 212,
        "endChar": 34
      },
      "revId": "81c7cca47eefbba8b25f00aa11e55e083454cc98",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5aa745d1_a3eb1eb0",
        "filename": "nsdb/src/main/scala/org/midonet/cluster/data/neutron/NeutronImporter.scala",
        "patchSetId": 1
      },
      "lineNbr": 84,
      "author": {
        "id": 1002741
      },
      "writtenOn": "2016-12-02T08:41:11Z",
      "side": 1,
      "message": "alignment.",
      "range": {
        "startLine": 84,
        "startChar": 45,
        "endLine": 84,
        "endChar": 83
      },
      "revId": "81c7cca47eefbba8b25f00aa11e55e083454cc98",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5aa745d1_43fc5a3e",
        "filename": "nsdb/src/main/scala/org/midonet/cluster/data/neutron/NeutronImporter.scala",
        "patchSetId": 1
      },
      "lineNbr": 84,
      "author": {
        "id": 1002821
      },
      "writtenOn": "2016-12-02T09:00:37Z",
      "side": 1,
      "message": "Chaotic",
      "parentUuid": "5aa745d1_a3eb1eb0",
      "range": {
        "startLine": 84,
        "startChar": 45,
        "endLine": 84,
        "endChar": 83
      },
      "revId": "81c7cca47eefbba8b25f00aa11e55e083454cc98",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    }
  ]
}