{
  "comments": [
    {
      "key": {
        "uuid": "7a1969be_1dc0527b",
        "filename": "cluster/src/test/scala/org/midonet/cluster/util/ObservablePathChildrenCacheTest.scala",
        "patchSetId": 2
      },
      "lineNbr": 345,
      "author": {
        "id": 1002751
      },
      "writtenOn": "2015-03-05T17:03:53Z",
      "side": 1,
      "message": "Mostly looks good. However, just one random thought: could it be possible that the flakiness is also generated by ChildDataAccumulator not being thread-safe, and consequently receiving onNext notifications from two different threads:\n- the test thread when subscribing and implicitly calling OnSubscribeToPathChildren.call(...), which will emit the current set of children observables (these are also behavior subjects, which will emit their current state immediately upon subscription)\n- the curator PathChildrenCache thread, which will emit all other child updates, via childChanged",
      "range": {
        "startLine": 345,
        "startChar": 30,
        "endLine": 345,
        "endChar": 62
      },
      "revId": "280e5a980b3e70712ac1eb30cee39b1709ea7030",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    }
  ]
}