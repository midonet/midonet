{
  "comments": [
    {
      "key": {
        "uuid": "9ad9bd40_fac84d77",
        "filename": "docs/openstack-metadata-usage.md",
        "patchSetId": 6
      },
      "lineNbr": 16,
      "author": {
        "id": 1002740
      },
      "writtenOn": "2015-08-31T21:58:52Z",
      "side": 1,
      "message": "This implies that this feature is going to be optional, which means that the user can toggle once in production.  One consequence of this is that our Neutron -\u003e MidoNet translation design may be impacted.  With this flag disabled, we expect two things to be created:\n\n1. DHCP port existing on the tenant network\n2. A route on the tenant router for metadata traffic to the DHCP agent\n\nI believe neither one has any impact if the flag is enabled, so it is probably ok that we keep them until we deprecate the old metadata design.\n\nWhat is the consequence, however, of disabling this flag once the distributed metadata is in effect?  I think it\u0027s ok but we should mention this here that we do not support it.\n\nThe other alternative is that, since it\u0027s a major release, we simply go with only the distributed metadata option.",
      "revId": "8371043904d25f2e9ed151fb3cdd47c9bab0c98c",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9ad9bd40_9a990171",
        "filename": "docs/openstack-metadata-usage.md",
        "patchSetId": 6
      },
      "lineNbr": 16,
      "author": {
        "id": 1002740
      },
      "writtenOn": "2015-08-31T22:50:29Z",
      "side": 1,
      "message": "Thinking about it some more, it\u0027s probably not feasible to just remove the old way in the new release.  Maybe it\u0027s worth just mentioning what is expected if this setting this back to \u0027false\u0027.  Does the dhcp agent automatically re-create the namespaces/ports?  If not, I believe the only thing you have to do is to create them manually after starting these services and restarting midolman, and I don\u0027t think we need any script for this).",
      "parentUuid": "9ad9bd40_fac84d77",
      "revId": "8371043904d25f2e9ed151fb3cdd47c9bab0c98c",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9ad9bd40_9dcadb9f",
        "filename": "docs/openstack-metadata-usage.md",
        "patchSetId": 6
      },
      "lineNbr": 16,
      "author": {
        "id": 1002740
      },
      "writtenOn": "2015-09-01T04:33:37Z",
      "side": 1,
      "message": "Discussed this in the developer channel of Slack.  There is no major consequence with toggling the flag after deployment as the alternative services are setup (q-dhcp).  Sounds reasonable to me.",
      "parentUuid": "9ad9bd40_9a990171",
      "revId": "8371043904d25f2e9ed151fb3cdd47c9bab0c98c",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9ad9bd40_bda87fdc",
        "filename": "docs/openstack-metadata-usage.md",
        "patchSetId": 6
      },
      "lineNbr": 16,
      "author": {
        "id": 1002897
      },
      "writtenOn": "2015-09-01T04:34:52Z",
      "side": 1,
      "message": "i believe restarting dhcp agent will re-create dhcp port.",
      "parentUuid": "9ad9bd40_9a990171",
      "revId": "8371043904d25f2e9ed151fb3cdd47c9bab0c98c",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9ad9bd40_ddc38388",
        "filename": "docs/openstack-metadata-usage.md",
        "patchSetId": 6
      },
      "lineNbr": 16,
      "author": {
        "id": 1002897
      },
      "writtenOn": "2015-09-01T04:34:52Z",
      "side": 1,
      "message": "disabling the flag (and restarting midolman) just makes the service unavailable.  until you re-enable it or launch dhcp/meta agents.",
      "parentUuid": "9ad9bd40_fac84d77",
      "revId": "8371043904d25f2e9ed151fb3cdd47c9bab0c98c",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    }
  ]
}