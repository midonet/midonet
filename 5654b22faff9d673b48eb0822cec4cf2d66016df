{
  "comments": [
    {
      "key": {
        "uuid": "1ae5cdf2_c84f6291",
        "filename": "midolman/src/main/java/org/midonet/midolman/rules/RedirectRule.java",
        "patchSetId": 1
      },
      "lineNbr": 56,
      "author": {
        "id": 1002754
      },
      "writtenOn": "2015-09-15T13:34:30Z",
      "side": 1,
      "message": "return super.apply?",
      "revId": "5654b22faff9d673b48eb0822cec4cf2d66016df",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1ae5cdf2_abe9301c",
        "filename": "midolman/src/main/java/org/midonet/midolman/rules/RedirectRule.java",
        "patchSetId": 1
      },
      "lineNbr": 56,
      "author": {
        "id": 1003555
      },
      "writtenOn": "2015-09-15T14:18:41Z",
      "side": 1,
      "message": "We want to apply even if we haven\u0027t pushed/popped vlans.",
      "parentUuid": "1ae5cdf2_c84f6291",
      "revId": "5654b22faff9d673b48eb0822cec4cf2d66016df",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1ae5cdf2_e8441e76",
        "filename": "midolman/src/main/scala/org/midonet/midolman/simulation/Simulator.scala",
        "patchSetId": 1
      },
      "lineNbr": 275,
      "author": {
        "id": 1002754
      },
      "writtenOn": "2015-09-15T13:34:30Z",
      "side": 1,
      "message": "i wonder if instead of adding the ignoreAdminState thingie, we could just fetch the peer port and go from there, or directly emit.",
      "revId": "5654b22faff9d673b48eb0822cec4cf2d66016df",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1ae5cdf2_4b10ac4e",
        "filename": "midolman/src/main/scala/org/midonet/midolman/simulation/Simulator.scala",
        "patchSetId": 1
      },
      "lineNbr": 275,
      "author": {
        "id": 1003555
      },
      "writtenOn": "2015-09-15T14:18:41Z",
      "side": 1,
      "message": "Actually, I think I might get rid of ignoreAdminState, and just check in the redirect rule apply method whether the port is up or not.",
      "parentUuid": "1ae5cdf2_e8441e76",
      "revId": "5654b22faff9d673b48eb0822cec4cf2d66016df",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1ae5cdf2_a84a1681",
        "filename": "midolman/src/main/scala/org/midonet/midolman/simulation/Simulator.scala",
        "patchSetId": 1
      },
      "lineNbr": 281,
      "author": {
        "id": 1002754
      },
      "writtenOn": "2015-09-15T13:34:30Z",
      "side": 1,
      "message": "adminStateUP is already checked on egress right?",
      "revId": "5654b22faff9d673b48eb0822cec4cf2d66016df",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1ae5cdf2_6b900896",
        "filename": "midolman/src/main/scala/org/midonet/midolman/simulation/Simulator.scala",
        "patchSetId": 1
      },
      "lineNbr": 281,
      "author": {
        "id": 1003555
      },
      "writtenOn": "2015-09-15T14:18:41Z",
      "side": 1,
      "message": "This isn\u0027t for admin state. It\u0027s so that no filters are run when sending to a service port. I plan to replace this with a ServicePort first class object, which doesn\u0027t have any filters, but only allows redirect traffic (will have to mark it in packet context).",
      "parentUuid": "1ae5cdf2_a84a1681",
      "revId": "5654b22faff9d673b48eb0822cec4cf2d66016df",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1ae5cdf2_fcf3fc07",
        "filename": "midolman/src/main/scala/org/midonet/midolman/simulation/Simulator.scala",
        "patchSetId": 1
      },
      "lineNbr": 281,
      "author": {
        "id": 1002754
      },
      "writtenOn": "2015-09-16T07:41:14Z",
      "side": 1,
      "message": "I meant that this:\nif (!targetPort.adminStateUp)\n            return Drop\nshould already be checked in the egress port of targetPort, no?",
      "parentUuid": "1ae5cdf2_6b900896",
      "revId": "5654b22faff9d673b48eb0822cec4cf2d66016df",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1ae5cdf2_77770703",
        "filename": "midolman/src/main/scala/org/midonet/midolman/simulation/Simulator.scala",
        "patchSetId": 1
      },
      "lineNbr": 281,
      "author": {
        "id": 1003555
      },
      "writtenOn": "2015-09-16T14:47:46Z",
      "side": 1,
      "message": "It happens in the filters, which are skipped in this case",
      "parentUuid": "1ae5cdf2_fcf3fc07",
      "revId": "5654b22faff9d673b48eb0822cec4cf2d66016df",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1ae5cdf2_974bb3af",
        "filename": "midolman/src/main/scala/org/midonet/midolman/simulation/Simulator.scala",
        "patchSetId": 1
      },
      "lineNbr": 281,
      "author": {
        "id": 1002754
      },
      "writtenOn": "2015-09-16T14:56:24Z",
      "side": 1,
      "message": "hum.. that\u0027s confusing. i would expect only the filters to be skipped.",
      "parentUuid": "1ae5cdf2_77770703",
      "revId": "5654b22faff9d673b48eb0822cec4cf2d66016df",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    }
  ]
}