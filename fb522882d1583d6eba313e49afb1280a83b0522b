{
  "comments": [
    {
      "key": {
        "uuid": "facab960_07503f31",
        "filename": "cluster/midonet-cluster/src/main/scala/org/midonet/cluster/services/c3po/translators/LoadBalancerPoolMemberTranslator.scala",
        "patchSetId": 3
      },
      "lineNbr": 56,
      "author": {
        "id": 1002821
      },
      "writtenOn": "2015-06-01T03:52:36Z",
      "side": 1,
      "message": "Maybe a comment here to explain why.",
      "range": {
        "startLine": 56,
        "startChar": 34,
        "endLine": 56,
        "endChar": 61
      },
      "revId": "fb522882d1583d6eba313e49afb1280a83b0522b",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "facab960_e24d0974",
        "filename": "cluster/midonet-cluster/src/main/scala/org/midonet/cluster/services/c3po/translators/LoadBalancerPoolMemberTranslator.scala",
        "patchSetId": 3
      },
      "lineNbr": 56,
      "author": {
        "id": 1002760
      },
      "writtenOn": "2015-06-01T05:00:13Z",
      "side": 1,
      "message": "Done. I guess we can also use Update Validator, here, right?",
      "parentUuid": "facab960_07503f31",
      "range": {
        "startLine": 56,
        "startChar": 34,
        "endLine": 56,
        "endChar": 61
      },
      "revId": "fb522882d1583d6eba313e49afb1280a83b0522b",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "facab960_02e3cdd9",
        "filename": "cluster/midonet-cluster/src/main/scala/org/midonet/cluster/services/c3po/translators/LoadBalancerPoolMemberTranslator.scala",
        "patchSetId": 3
      },
      "lineNbr": 56,
      "author": {
        "id": 1002821
      },
      "writtenOn": "2015-06-01T07:51:37Z",
      "side": 1,
      "message": "Yeah. Though I guess it\u0027s not really needed. The reason I added the UpdateValidator was that at the time I thought that updates had to be thread-safe. Since they don\u0027t, it\u0027s not really necessary.\n\nIt does save a round-trip to Zookeeper, though, since Zoom will fetch the object from ZK anyway.",
      "parentUuid": "facab960_e24d0974",
      "range": {
        "startLine": 56,
        "startChar": 34,
        "endLine": 56,
        "endChar": 61
      },
      "revId": "fb522882d1583d6eba313e49afb1280a83b0522b",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "facab960_67890bca",
        "filename": "cluster/midonet-cluster/src/test/scala/org/midonet/cluster/services/c3po/translators/LoadBalancerIT.scala",
        "patchSetId": 3
      },
      "lineNbr": 218,
      "author": {
        "id": 1002821
      },
      "writtenOn": "2015-06-01T03:52:36Z",
      "side": 1,
      "message": "Could you add \"with no pool ID\" here to clarify?",
      "range": {
        "startLine": 218,
        "startChar": 14,
        "endLine": 218,
        "endChar": 32
      },
      "revId": "fb522882d1583d6eba313e49afb1280a83b0522b",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "facab960_425dd520",
        "filename": "cluster/midonet-cluster/src/test/scala/org/midonet/cluster/services/c3po/translators/LoadBalancerIT.scala",
        "patchSetId": 3
      },
      "lineNbr": 218,
      "author": {
        "id": 1002760
      },
      "writtenOn": "2015-06-01T05:00:13Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "facab960_67890bca",
      "range": {
        "startLine": 218,
        "startChar": 14,
        "endLine": 218,
        "endChar": 32
      },
      "revId": "fb522882d1583d6eba313e49afb1280a83b0522b",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "facab960_47a5e751",
        "filename": "cluster/midonet-cluster/src/test/scala/org/midonet/cluster/services/c3po/translators/LoadBalancerIT.scala",
        "patchSetId": 3
      },
      "lineNbr": 230,
      "author": {
        "id": 1002821
      },
      "writtenOn": "2015-06-01T03:52:36Z",
      "side": 1,
      "message": "Should the member list check be in the eventually block as well?",
      "range": {
        "startLine": 229,
        "startChar": 0,
        "endLine": 230,
        "endChar": 59
      },
      "revId": "fb522882d1583d6eba313e49afb1280a83b0522b",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "facab960_c248055e",
        "filename": "cluster/midonet-cluster/src/test/scala/org/midonet/cluster/services/c3po/translators/LoadBalancerIT.scala",
        "patchSetId": 3
      },
      "lineNbr": 230,
      "author": {
        "id": 1002760
      },
      "writtenOn": "2015-06-01T05:00:13Z",
      "side": 1,
      "message": "In this case I think we can get rid of eventually all together because Pool is not updated in this transaction anyway. The test here is just a sanity check.",
      "parentUuid": "facab960_47a5e751",
      "range": {
        "startLine": 229,
        "startChar": 0,
        "endLine": 230,
        "endChar": 59
      },
      "revId": "fb522882d1583d6eba313e49afb1280a83b0522b",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "facab960_87860fb8",
        "filename": "cluster/midonet-cluster/src/test/scala/org/midonet/cluster/services/c3po/translators/LoadBalancerIT.scala",
        "patchSetId": 3
      },
      "lineNbr": 232,
      "author": {
        "id": 1002821
      },
      "writtenOn": "2015-06-01T03:52:36Z",
      "side": 1,
      "message": "\"Update the pool member with pool ID and other properties.\"",
      "range": {
        "startLine": 232,
        "startChar": 34,
        "endLine": 232,
        "endChar": 35
      },
      "revId": "fb522882d1583d6eba313e49afb1280a83b0522b",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "facab960_e274299e",
        "filename": "cluster/midonet-cluster/src/test/scala/org/midonet/cluster/services/c3po/translators/LoadBalancerIT.scala",
        "patchSetId": 3
      },
      "lineNbr": 232,
      "author": {
        "id": 1002760
      },
      "writtenOn": "2015-06-01T05:00:13Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "facab960_87860fb8",
      "range": {
        "startLine": 232,
        "startChar": 34,
        "endLine": 232,
        "endChar": 35
      },
      "revId": "fb522882d1583d6eba313e49afb1280a83b0522b",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "facab960_87ad2f34",
        "filename": "cluster/midonet-cluster/src/test/scala/org/midonet/cluster/services/c3po/translators/LoadBalancerIT.scala",
        "patchSetId": 3
      },
      "lineNbr": 251,
      "author": {
        "id": 1002821
      },
      "writtenOn": "2015-06-01T03:52:36Z",
      "side": 1,
      "message": "This may fail occasionally. Logically, you would expect that once the pool member is updated successfully, the pool will be updated as well. That\u0027s true in Zookeeper, but because of the way Zoom caches observables, you can\u0027t assume that Zoom will give you the updated pool immediately. We\u0027ve had test failures related to this issue before.\n\nWhat you need to do is put the get and member list check in a single eventually block.",
      "range": {
        "startLine": 250,
        "startChar": 0,
        "endLine": 251,
        "endChar": 78
      },
      "revId": "fb522882d1583d6eba313e49afb1280a83b0522b",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "facab960_4274f598",
        "filename": "cluster/midonet-cluster/src/test/scala/org/midonet/cluster/services/c3po/translators/LoadBalancerIT.scala",
        "patchSetId": 3
      },
      "lineNbr": 251,
      "author": {
        "id": 1002760
      },
      "writtenOn": "2015-06-01T05:00:13Z",
      "side": 1,
      "message": "Thank you pointing that out. Now I remember that zoom.get is no longer simple get on ZK.",
      "parentUuid": "facab960_87ad2f34",
      "range": {
        "startLine": 250,
        "startChar": 0,
        "endLine": 251,
        "endChar": 78
      },
      "revId": "fb522882d1583d6eba313e49afb1280a83b0522b",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "facab960_477327e9",
        "filename": "cluster/midonet-cluster/src/test/scala/org/midonet/cluster/services/c3po/translators/LoadBalancerIT.scala",
        "patchSetId": 3
      },
      "lineNbr": 273,
      "author": {
        "id": 1002821
      },
      "writtenOn": "2015-06-01T03:52:36Z",
      "side": 1,
      "message": "Same.",
      "range": {
        "startLine": 270,
        "startChar": 0,
        "endLine": 273,
        "endChar": 79
      },
      "revId": "fb522882d1583d6eba313e49afb1280a83b0522b",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "facab960_626819bb",
        "filename": "cluster/midonet-cluster/src/test/scala/org/midonet/cluster/services/c3po/translators/LoadBalancerIT.scala",
        "patchSetId": 3
      },
      "lineNbr": 273,
      "author": {
        "id": 1002760
      },
      "writtenOn": "2015-06-01T05:00:13Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "facab960_477327e9",
      "range": {
        "startLine": 270,
        "startChar": 0,
        "endLine": 273,
        "endChar": 79
      },
      "revId": "fb522882d1583d6eba313e49afb1280a83b0522b",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "facab960_67774bd5",
        "filename": "cluster/midonet-cluster/src/test/scala/org/midonet/cluster/services/c3po/translators/LoadBalancerIT.scala",
        "patchSetId": 3
      },
      "lineNbr": 285,
      "author": {
        "id": 1002821
      },
      "writtenOn": "2015-06-01T03:52:36Z",
      "side": 1,
      "message": "Same.",
      "range": {
        "startLine": 284,
        "startChar": 0,
        "endLine": 285,
        "endChar": 68
      },
      "revId": "fb522882d1583d6eba313e49afb1280a83b0522b",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "facab960_a26221d6",
        "filename": "cluster/midonet-cluster/src/test/scala/org/midonet/cluster/services/c3po/translators/LoadBalancerIT.scala",
        "patchSetId": 3
      },
      "lineNbr": 285,
      "author": {
        "id": 1002760
      },
      "writtenOn": "2015-06-01T05:00:13Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "facab960_67774bd5",
      "range": {
        "startLine": 284,
        "startChar": 0,
        "endLine": 285,
        "endChar": 68
      },
      "revId": "fb522882d1583d6eba313e49afb1280a83b0522b",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    }
  ]
}