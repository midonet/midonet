{
  "comments": [
    {
      "key": {
        "uuid": "7a6b29fe_bc7eb7ac",
        "filename": "midolman/src/main/scala/org/midonet/midolman/FlowTranslator.scala",
        "patchSetId": 1
      },
      "lineNbr": 167,
      "author": {
        "id": 1002754
      },
      "writtenOn": "2014-11-10T19:04:42Z",
      "side": 1,
      "message": "This can be prettified if we\u0027re not being mindful of garbage because this is a rare operation; otherwise, this can be greener with ArrayLists! :p",
      "revId": "60b276d9a4546a1cef97c521953884791a84d55d",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7a6b29fe_5c45e36e",
        "filename": "midolman/src/main/scala/org/midonet/midolman/PacketWorkflow.scala",
        "patchSetId": 1
      },
      "lineNbr": 315,
      "author": {
        "id": 1002754
      },
      "writtenOn": "2014-11-10T19:04:42Z",
      "side": 1,
      "message": "we can drop this case and let the code fall through. this is more or less what will happen if the tunnel key doesn\u0027t map to any VNI.",
      "revId": "60b276d9a4546a1cef97c521953884791a84d55d",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3a65312a_bd942345",
        "filename": "midolman/src/main/scala/org/midonet/midolman/PacketWorkflow.scala",
        "patchSetId": 1
      },
      "lineNbr": 315,
      "author": {
        "id": 1002763
      },
      "writtenOn": "2014-11-12T17:51:05Z",
      "side": 1,
      "message": "sounds brittle.",
      "parentUuid": "7a6b29fe_5c45e36e",
      "revId": "60b276d9a4546a1cef97c521953884791a84d55d",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3a65312a_3d181384",
        "filename": "midolman/src/main/scala/org/midonet/midolman/PacketWorkflow.scala",
        "patchSetId": 1
      },
      "lineNbr": 315,
      "author": {
        "id": 1002754
      },
      "writtenOn": "2014-11-12T20:52:56Z",
      "side": 1,
      "message": "why? here we should just check if the packet is a state message, a vtep packet or a normal packet. any other case being handled with the same code. (note that, similarly, we don\u0027t explicitly handle here the case where we couldn\u0027t map the dp port to a vport or when there\u0027s no vni for the tunnel key)",
      "parentUuid": "3a65312a_bd942345",
      "revId": "60b276d9a4546a1cef97c521953884791a84d55d",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3a65312a_88b007df",
        "filename": "midolman/src/main/scala/org/midonet/midolman/PacketWorkflow.scala",
        "patchSetId": 1
      },
      "lineNbr": 315,
      "author": {
        "id": 1002763
      },
      "writtenOn": "2014-11-13T09:34:14Z",
      "side": 1,
      "message": "I disagree: looking up the VNI should only be done on the vtep vxlan port, not on the overlay one, so this keeps the different possibilities on different paths.\n\nThere are three other outcomes here:\n\n* state message.\n* vtep packet -\u003e simulation\n* overlay packet -\u003e simulation.\n\nA packet on the overlay tunnelling port that didn\u0027t match the wflow table does not belong to any of those 3 branches and I would not send it through it.",
      "parentUuid": "3a65312a_3d181384",
      "revId": "60b276d9a4546a1cef97c521953884791a84d55d",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3a65312a_88fe476a",
        "filename": "midolman/src/main/scala/org/midonet/midolman/PacketWorkflow.scala",
        "patchSetId": 1
      },
      "lineNbr": 315,
      "author": {
        "id": 1002754
      },
      "writtenOn": "2014-11-13T10:21:24Z",
      "side": 1,
      "message": "I still think this is kind of messy to have special cases everywhere. Maybe change it to processSimulationResult(context, TemporaryDrop)? Also, the comment needs to be updated I think.\n\nIf you wanna get crazy, this is the cleanest approach, which benefits the common case: https://gist.github.com/duarten/7c3568c7b8a6b685e878",
      "parentUuid": "3a65312a_88b007df",
      "revId": "60b276d9a4546a1cef97c521953884791a84d55d",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7a6b29fe_5c3cc3e2",
        "filename": "midolman/src/main/scala/org/midonet/midolman/PacketWorkflow.scala",
        "patchSetId": 1
      },
      "lineNbr": 355,
      "author": {
        "id": 1002754
      },
      "writtenOn": "2014-11-10T19:04:42Z",
      "side": 1,
      "message": "this append takes a varargs array to then call appendAll, so there\u0027s an instantiation right here. appendAll then uses a foreach. i would like us to avoid scala collections like the plague they are",
      "revId": "60b276d9a4546a1cef97c521953884791a84d55d",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3a65312a_1dbb97c5",
        "filename": "midolman/src/main/scala/org/midonet/midolman/PacketWorkflow.scala",
        "patchSetId": 1
      },
      "lineNbr": 355,
      "author": {
        "id": 1002763
      },
      "writtenOn": "2014-11-12T17:51:05Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "7a6b29fe_5c3cc3e2",
      "revId": "60b276d9a4546a1cef97c521953884791a84d55d",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7a6b29fe_fc366f02",
        "filename": "midolman/src/main/scala/org/midonet/midolman/PacketWorkflow.scala",
        "patchSetId": 1
      },
      "lineNbr": 362,
      "author": {
        "id": 1002754
      },
      "writtenOn": "2014-11-10T19:04:42Z",
      "side": 1,
      "message": "I don\u0027t like this very much. It seems this can be done during the simulation or during flow translation.",
      "revId": "60b276d9a4546a1cef97c521953884791a84d55d",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3a65312a_5db50fcc",
        "filename": "midolman/src/main/scala/org/midonet/midolman/PacketWorkflow.scala",
        "patchSetId": 1
      },
      "lineNbr": 362,
      "author": {
        "id": 1002763
      },
      "writtenOn": "2014-11-12T17:51:05Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "7a6b29fe_fc366f02",
      "revId": "60b276d9a4546a1cef97c521953884791a84d55d",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    }
  ]
}