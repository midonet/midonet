{
  "comments": [
    {
      "key": {
        "uuid": "1af78d9a_719bdec9",
        "filename": "midonet-util/src/main/scala/org/midonet/util/concurrent/OneToOneRwdRingBuffer.scala",
        "patchSetId": 1
      },
      "lineNbr": 45,
      "author": {
        "id": 1002751
      },
      "writtenOn": "2015-01-09T09:54:09Z",
      "side": 1,
      "message": "Should\u0027t we call this a SpscRwdRingBuffer (i.e. single producer, single consumer buffer)?\n\nJust as a note: RX already provides in its utilities a:\n\n  rx.internal.util.unsafe.SpscArrayQueue\n\nand:\n\n  rx.internal.util.unsafe.ConcurrentCircularArrayQueue\n\nbased also on a similar ring buffer, but a bit more elaborate with memory fences for load/store methods. Although it doesn\u0027t provide a rewind capability, that class is public and most of its methods are protected. Shouldn\u0027t extend that class work here?",
      "range": {
        "startLine": 45,
        "startChar": 6,
        "endLine": 45,
        "endChar": 14
      },
      "revId": "c6417850fdba4b58a36dbfde952767a97c5a50a1",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1af78d9a_b1f38609",
        "filename": "midonet-util/src/main/scala/org/midonet/util/concurrent/OneToOneRwdRingBuffer.scala",
        "patchSetId": 1
      },
      "lineNbr": 102,
      "author": {
        "id": 1002751
      },
      "writtenOn": "2015-01-09T09:54:09Z",
      "side": 1,
      "message": "I don\u0027t understand very well the effect of this lazy set. According to the documentation, it looks like the lazy set allows reordering of this write with subsequent reads/writes, until a volatile write. Is then possible that a subsequent rd.get() in poll() or peek() methods access the previous value?",
      "range": {
        "startLine": 102,
        "startChar": 12,
        "endLine": 102,
        "endChar": 33
      },
      "revId": "c6417850fdba4b58a36dbfde952767a97c5a50a1",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1af78d9a_63795893",
        "filename": "midonet-util/src/main/scala/org/midonet/util/concurrent/OneToOneRwdRingBuffer.scala",
        "patchSetId": 1
      },
      "lineNbr": 160,
      "author": {
        "id": 1002751
      },
      "writtenOn": "2015-01-09T09:54:09Z",
      "side": 1,
      "message": "Message to std out.",
      "range": {
        "startLine": 160,
        "startChar": 8,
        "endLine": 160,
        "endChar": 56
      },
      "revId": "c6417850fdba4b58a36dbfde952767a97c5a50a1",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    }
  ]
}