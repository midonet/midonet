{
  "comments": [
    {
      "key": {
        "uuid": "5ac4a560_cd76a4d8",
        "filename": "midolman/src/lib/midolman/service_containers/vpn/vpn-helper",
        "patchSetId": 6
      },
      "lineNbr": 16,
      "author": {
        "id": 1002897
      },
      "writtenOn": "2015-11-25T09:41:38Z",
      "side": 1,
      "message": "extra shebang?",
      "revId": "3eb1eae47ade24475a294b01f36a7436dfd8b9ab",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5ac4a560_0cc17980",
        "filename": "midolman/src/lib/midolman/service_containers/vpn/vpn-helper",
        "patchSetId": 6
      },
      "lineNbr": 16,
      "author": {
        "id": 1002741
      },
      "writtenOn": "2015-11-27T07:58:58Z",
      "side": 1,
      "message": "Fixed.",
      "parentUuid": "5ac4a560_cd76a4d8",
      "revId": "3eb1eae47ade24475a294b01f36a7436dfd8b9ab",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5ac4a560_c3a2f599",
        "filename": "midolman/src/lib/midolman/service_containers/vpn/vpn-helper",
        "patchSetId": 6
      },
      "lineNbr": 194,
      "author": {
        "id": 1002731
      },
      "writtenOn": "2015-11-25T14:02:10Z",
      "side": 1,
      "message": "if something fails here it\u0027ll leave stray namespaces, should we run a cleanup?",
      "range": {
        "startLine": 194,
        "startChar": 8,
        "endLine": 194,
        "endChar": 14
      },
      "revId": "3eb1eae47ade24475a294b01f36a7436dfd8b9ab",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5ac4a560_a9feb769",
        "filename": "midolman/src/lib/midolman/service_containers/vpn/vpn-helper",
        "patchSetId": 6
      },
      "lineNbr": 194,
      "author": {
        "id": 1002741
      },
      "writtenOn": "2015-11-26T00:03:09Z",
      "side": 1,
      "message": "My instinct is to leave everything in its failure state for debugging. when a service fails to deploy, my thinking for the right process is:\n\n1) mark the host as \"failure state\" for this type of namespace.\n2) try to reschedule the service on a different host.\n3) let the operator manually take the host out of failure state when/if he fixes the problem so it gets added back into the HA pool.\n\nIf we try to get too smart with these namespaces, we can really shoot ourselves in the foot.",
      "parentUuid": "5ac4a560_c3a2f599",
      "range": {
        "startLine": 194,
        "startChar": 8,
        "endLine": 194,
        "endChar": 14
      },
      "revId": "3eb1eae47ade24475a294b01f36a7436dfd8b9ab",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5ac4a560_ac096097",
        "filename": "midolman/src/lib/midolman/service_containers/vpn/vpn-helper",
        "patchSetId": 6
      },
      "lineNbr": 194,
      "author": {
        "id": 1002731
      },
      "writtenOn": "2015-11-26T20:28:58Z",
      "side": 1,
      "message": "Well I disagree that not leaving broken things behind is being too clever. For a start, in the best case, this creates manual work for operators. \n\nThe debug info can be provided by the cleanup (e.g.: list all namespaces and along the ip delns issue an echo \"deleting stray namespace $nsName\" to stderr).\n\nThis way you get debug info, and you don\u0027t leave broken stuff behind for others to clean.",
      "parentUuid": "5ac4a560_a9feb769",
      "range": {
        "startLine": 194,
        "startChar": 8,
        "endLine": 194,
        "endChar": 14
      },
      "revId": "3eb1eae47ade24475a294b01f36a7436dfd8b9ab",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5ac4a560_42e7b540",
        "filename": "midolman/src/lib/midolman/service_containers/vpn/vpn-helper",
        "patchSetId": 6
      },
      "lineNbr": 194,
      "author": {
        "id": 1002741
      },
      "writtenOn": "2015-11-27T08:04:17Z",
      "side": 1,
      "message": "If a service container fails to deploy, I think that the operator (and midonet support, if necessary) should be getting on the host and finding out what is wrong. There are no expected failures here. If the script fails, there is a problem that needs to be solved, probably by manipulating the host somehow, and a simple retry is probably not going to be good enough.\n\nanyways, this is more of a question of how the script is called, and should be decided in this patch: https://review.gerrithub.io/#/c/253159/",
      "parentUuid": "5ac4a560_ac096097",
      "range": {
        "startLine": 194,
        "startChar": 8,
        "endLine": 194,
        "endChar": 14
      },
      "revId": "3eb1eae47ade24475a294b01f36a7436dfd8b9ab",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    }
  ]
}