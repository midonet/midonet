{
  "comments": [
    {
      "key": {
        "uuid": "1af78d9a_31e79642",
        "filename": "midolman/src/main/scala/org/midonet/midolman/topology/HostMapper.scala",
        "patchSetId": 21
      },
      "lineNbr": 41,
      "author": {
        "id": 1002751
      },
      "writtenOn": "2015-01-09T12:18:38Z",
      "side": 1,
      "message": "Move to next line.",
      "range": {
        "startLine": 41,
        "startChar": 29,
        "endLine": 41,
        "endChar": 98
      },
      "revId": "d3592da010dadcf0f3af37533d09da9bf1d38253",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1af78d9a_2cb9fd2e",
        "filename": "midolman/src/main/scala/org/midonet/midolman/topology/HostMapper.scala",
        "patchSetId": 21
      },
      "lineNbr": 41,
      "author": {
        "id": 1002820
      },
      "writtenOn": "2015-01-09T14:37:27Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "1af78d9a_31e79642",
      "range": {
        "startLine": 41,
        "startChar": 29,
        "endLine": 41,
        "endChar": 98
      },
      "revId": "d3592da010dadcf0f3af37533d09da9bf1d38253",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1af78d9a_51d50242",
        "filename": "midolman/src/main/scala/org/midonet/midolman/topology/HostMapper.scala",
        "patchSetId": 21
      },
      "lineNbr": 70,
      "author": {
        "id": 1002751
      },
      "writtenOn": "2015-01-09T12:18:38Z",
      "side": 1,
      "message": "Is this method needed? The constructor of Host already sets the tunnelZoneIds to Set.empty.",
      "range": {
        "startLine": 66,
        "startChar": 4,
        "endLine": 70,
        "endChar": 5
      },
      "revId": "d3592da010dadcf0f3af37533d09da9bf1d38253",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1af78d9a_0cb6c13d",
        "filename": "midolman/src/main/scala/org/midonet/midolman/topology/HostMapper.scala",
        "patchSetId": 21
      },
      "lineNbr": 70,
      "author": {
        "id": 1002820
      },
      "writtenOn": "2015-01-09T14:37:27Z",
      "side": 1,
      "message": "this is legacy code that is not needed anymore indeed.",
      "parentUuid": "1af78d9a_51d50242",
      "range": {
        "startLine": 66,
        "startChar": 4,
        "endLine": 70,
        "endChar": 5
      },
      "revId": "d3592da010dadcf0f3af37533d09da9bf1d38253",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1af78d9a_91cf6ab0",
        "filename": "midolman/src/main/scala/org/midonet/midolman/topology/HostMapper.scala",
        "patchSetId": 21
      },
      "lineNbr": 85,
      "author": {
        "id": 1002751
      },
      "writtenOn": "2015-01-09T12:18:38Z",
      "side": 1,
      "message": "Just a nit-pick, change not necessary. This could be:\n\n  .filterNot(tunnelZones.contains)\n\nP.S. keySet not necessary",
      "range": {
        "startLine": 85,
        "startChar": 27,
        "endLine": 85,
        "endChar": 66
      },
      "revId": "d3592da010dadcf0f3af37533d09da9bf1d38253",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1af78d9a_6c82e553",
        "filename": "midolman/src/main/scala/org/midonet/midolman/topology/HostMapper.scala",
        "patchSetId": 21
      },
      "lineNbr": 85,
      "author": {
        "id": 1002820
      },
      "writtenOn": "2015-01-09T14:37:27Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "1af78d9a_91cf6ab0",
      "range": {
        "startLine": 85,
        "startChar": 27,
        "endLine": 85,
        "endChar": 66
      },
      "revId": "d3592da010dadcf0f3af37533d09da9bf1d38253",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1af78d9a_f1c34e88",
        "filename": "midolman/src/main/scala/org/midonet/midolman/topology/HostMapper.scala",
        "patchSetId": 21
      },
      "lineNbr": 90,
      "author": {
        "id": 1002751
      },
      "writtenOn": "2015-01-09T12:18:38Z",
      "side": 1,
      "message": "Same as above.",
      "range": {
        "startLine": 90,
        "startChar": 24,
        "endLine": 90,
        "endChar": 64
      },
      "revId": "d3592da010dadcf0f3af37533d09da9bf1d38253",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1af78d9a_8c81114d",
        "filename": "midolman/src/main/scala/org/midonet/midolman/topology/HostMapper.scala",
        "patchSetId": 21
      },
      "lineNbr": 90,
      "author": {
        "id": 1002820
      },
      "writtenOn": "2015-01-09T14:37:27Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "1af78d9a_f1c34e88",
      "range": {
        "startLine": 90,
        "startChar": 24,
        "endLine": 90,
        "endChar": 64
      },
      "revId": "d3592da010dadcf0f3af37533d09da9bf1d38253",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1af78d9a_11effab1",
        "filename": "midolman/src/main/scala/org/midonet/midolman/topology/HostMapper.scala",
        "patchSetId": 21
      },
      "lineNbr": 123,
      "author": {
        "id": 1002751
      },
      "writtenOn": "2015-01-09T12:18:38Z",
      "side": 1,
      "message": "Rather than making these copies, I\u0027m not sure whether would have been easier to simply return an rcu.Host.",
      "range": {
        "startLine": 123,
        "startChar": 12,
        "endLine": 123,
        "endChar": 28
      },
      "revId": "d3592da010dadcf0f3af37533d09da9bf1d38253",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1af78d9a_ec953589",
        "filename": "midolman/src/main/scala/org/midonet/midolman/topology/HostMapper.scala",
        "patchSetId": 21
      },
      "lineNbr": 123,
      "author": {
        "id": 1002820
      },
      "writtenOn": "2015-01-09T14:37:27Z",
      "side": 1,
      "message": "I thought that eventually we would get rid of rcu.Host...",
      "parentUuid": "1af78d9a_11effab1",
      "range": {
        "startLine": 123,
        "startChar": 12,
        "endLine": 123,
        "endChar": 28
      },
      "revId": "d3592da010dadcf0f3af37533d09da9bf1d38253",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1af78d9a_31c4b63f",
        "filename": "midolman/src/main/scala/org/midonet/midolman/topology/HostMapper.scala",
        "patchSetId": 21
      },
      "lineNbr": 146,
      "author": {
        "id": 1002751
      },
      "writtenOn": "2015-01-09T12:18:38Z",
      "side": 1,
      "message": "Here, it\u0027s possible that if one of the tunnel zones IDs does not exist in the tunnelZones map (when the host is added to a new tzone, but the tzone data was not yet received from storage), this will throw a NoSuchElementException. Although I\u0027m not sure if that can occur.",
      "range": {
        "startLine": 146,
        "startChar": 34,
        "endLine": 146,
        "endChar": 48
      },
      "revId": "d3592da010dadcf0f3af37533d09da9bf1d38253",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1af78d9a_6cbae5e2",
        "filename": "midolman/src/main/scala/org/midonet/midolman/topology/HostMapper.scala",
        "patchSetId": 21
      },
      "lineNbr": 146,
      "author": {
        "id": 1002820
      },
      "writtenOn": "2015-01-09T14:37:27Z",
      "side": 1,
      "message": "It could happen in fact, I now make sure the uuid is contained in tunnelZones before checking the hostIp.",
      "parentUuid": "1af78d9a_31c4b63f",
      "range": {
        "startLine": 146,
        "startChar": 34,
        "endLine": 146,
        "endChar": 48
      },
      "revId": "d3592da010dadcf0f3af37533d09da9bf1d38253",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1af78d9a_915daaec",
        "filename": "midolman/src/main/scala/org/midonet/midolman/topology/HostMapper.scala",
        "patchSetId": 21
      },
      "lineNbr": 157,
      "author": {
        "id": 1002751
      },
      "writtenOn": "2015-01-09T12:18:38Z",
      "side": 1,
      "message": "val",
      "range": {
        "startLine": 157,
        "startChar": 12,
        "endLine": 157,
        "endChar": 15
      },
      "revId": "d3592da010dadcf0f3af37533d09da9bf1d38253",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1af78d9a_ccd95985",
        "filename": "midolman/src/main/scala/org/midonet/midolman/topology/HostMapper.scala",
        "patchSetId": 21
      },
      "lineNbr": 157,
      "author": {
        "id": 1002820
      },
      "writtenOn": "2015-01-09T14:37:27Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "1af78d9a_915daaec",
      "range": {
        "startLine": 157,
        "startChar": 12,
        "endLine": 157,
        "endChar": 15
      },
      "revId": "d3592da010dadcf0f3af37533d09da9bf1d38253",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1af78d9a_b158a6fb",
        "filename": "midolman/src/main/scala/org/midonet/midolman/topology/HostMapper.scala",
        "patchSetId": 21
      },
      "lineNbr": 164,
      "author": {
        "id": 1002751
      },
      "writtenOn": "2015-01-09T12:18:38Z",
      "side": 1,
      "message": "val",
      "range": {
        "startLine": 164,
        "startChar": 12,
        "endLine": 164,
        "endChar": 15
      },
      "revId": "d3592da010dadcf0f3af37533d09da9bf1d38253",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1af78d9a_2c90dd94",
        "filename": "midolman/src/main/scala/org/midonet/midolman/topology/HostMapper.scala",
        "patchSetId": 21
      },
      "lineNbr": 164,
      "author": {
        "id": 1002820
      },
      "writtenOn": "2015-01-09T14:37:27Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "1af78d9a_b158a6fb",
      "range": {
        "startLine": 164,
        "startChar": 12,
        "endLine": 164,
        "endChar": 15
      },
      "revId": "d3592da010dadcf0f3af37533d09da9bf1d38253",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1af78d9a_516342b1",
        "filename": "midolman/src/main/scala/org/midonet/midolman/topology/HostMapper.scala",
        "patchSetId": 21
      },
      "lineNbr": 170,
      "author": {
        "id": 1002751
      },
      "writtenOn": "2015-01-09T12:18:38Z",
      "side": 1,
      "message": "I agree with Galo\u0027s comment that we shouldn\u0027t create a new instance of this observable for every call. Even if in our particular use case, observable is called once from VT, each class should be self contained, and its implementation shouldn\u0027t rely on how its methods are called.",
      "range": {
        "startLine": 170,
        "startChar": 8,
        "endLine": 170,
        "endChar": 24
      },
      "revId": "d3592da010dadcf0f3af37533d09da9bf1d38253",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1af78d9a_2ce73d42",
        "filename": "midolman/src/main/scala/org/midonet/midolman/topology/HostMapper.scala",
        "patchSetId": 21
      },
      "lineNbr": 170,
      "author": {
        "id": 1002820
      },
      "writtenOn": "2015-01-09T14:37:27Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "1af78d9a_516342b1",
      "range": {
        "startLine": 170,
        "startChar": 8,
        "endLine": 170,
        "endChar": 24
      },
      "revId": "d3592da010dadcf0f3af37533d09da9bf1d38253",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1af78d9a_11525add",
        "filename": "midolman/src/main/scala/org/midonet/midolman/topology/HostMapper.scala",
        "patchSetId": 21
      },
      "lineNbr": 174,
      "author": {
        "id": 1002751
      },
      "writtenOn": "2015-01-09T12:18:38Z",
      "side": 1,
      "message": "Not needed",
      "range": {
        "startLine": 174,
        "startChar": 39,
        "endLine": 174,
        "endChar": 42
      },
      "revId": "d3592da010dadcf0f3af37533d09da9bf1d38253",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1af78d9a_cc92f99e",
        "filename": "midolman/src/main/scala/org/midonet/midolman/topology/HostMapper.scala",
        "patchSetId": 21
      },
      "lineNbr": 174,
      "author": {
        "id": 1002820
      },
      "writtenOn": "2015-01-09T14:37:27Z",
      "side": 1,
      "message": "I prefer to keep it for clarity,",
      "parentUuid": "1af78d9a_11525add",
      "range": {
        "startLine": 174,
        "startChar": 39,
        "endLine": 174,
        "endChar": 42
      },
      "revId": "d3592da010dadcf0f3af37533d09da9bf1d38253",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    }
  ]
}