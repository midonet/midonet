{
  "comments": [
    {
      "key": {
        "uuid": "9ad9bd40_17635142",
        "filename": "cluster/midonet-cluster/src/test/scala/org/midonet/cluster/services/c3po/translators/LoadBalancerIT.scala",
        "patchSetId": 4
      },
      "lineNbr": 504,
      "author": {
        "id": 1002760
      },
      "writtenOn": "2015-08-14T10:49:09Z",
      "side": 1,
      "message": "I know it\u0027s named just \"vip\" in the original code, but could you rename this as \"vip1\"?",
      "range": {
        "startLine": 504,
        "startChar": 12,
        "endLine": 504,
        "endChar": 15
      },
      "revId": "960c8b7ab74001f107a5ae4129aeba3d8fc6214a",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9ad9bd40_b2ac73ee",
        "filename": "cluster/midonet-cluster/src/test/scala/org/midonet/cluster/services/c3po/translators/LoadBalancerIT.scala",
        "patchSetId": 4
      },
      "lineNbr": 504,
      "author": {
        "id": 1002751
      },
      "writtenOn": "2015-08-14T11:43:04Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "9ad9bd40_17635142",
      "range": {
        "startLine": 504,
        "startChar": 12,
        "endLine": 504,
        "endChar": 15
      },
      "revId": "960c8b7ab74001f107a5ae4129aeba3d8fc6214a",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9ad9bd40_f770ad09",
        "filename": "cluster/midonet-cluster/src/test/scala/org/midonet/cluster/services/c3po/translators/LoadBalancerIT.scala",
        "patchSetId": 4
      },
      "lineNbr": 507,
      "author": {
        "id": 1002760
      },
      "writtenOn": "2015-08-14T10:49:09Z",
      "side": 1,
      "message": "On top of this, we should also check that pool has a back reference to vip1.",
      "revId": "960c8b7ab74001f107a5ae4129aeba3d8fc6214a",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9ad9bd40_d2b73738",
        "filename": "cluster/midonet-cluster/src/test/scala/org/midonet/cluster/services/c3po/translators/LoadBalancerIT.scala",
        "patchSetId": 4
      },
      "lineNbr": 507,
      "author": {
        "id": 1002751
      },
      "writtenOn": "2015-08-14T11:43:04Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "9ad9bd40_f770ad09",
      "revId": "960c8b7ab74001f107a5ae4129aeba3d8fc6214a",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9ad9bd40_37669551",
        "filename": "cluster/midonet-cluster/src/test/scala/org/midonet/cluster/services/c3po/translators/LoadBalancerIT.scala",
        "patchSetId": 4
      },
      "lineNbr": 527,
      "author": {
        "id": 1002760
      },
      "writtenOn": "2015-08-14T10:49:09Z",
      "side": 1,
      "message": "Ditto.",
      "revId": "960c8b7ab74001f107a5ae4129aeba3d8fc6214a",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9ad9bd40_12851f59",
        "filename": "cluster/midonet-cluster/src/test/scala/org/midonet/cluster/services/c3po/translators/LoadBalancerIT.scala",
        "patchSetId": 4
      },
      "lineNbr": 527,
      "author": {
        "id": 1002751
      },
      "writtenOn": "2015-08-14T11:43:04Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "9ad9bd40_37669551",
      "revId": "960c8b7ab74001f107a5ae4129aeba3d8fc6214a",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9ad9bd40_775c9d7d",
        "filename": "midolman/src/main/scala/org/midonet/midolman/l4lb/HealthMonitorConfigWatcher.scala",
        "patchSetId": 4
      },
      "lineNbr": 2,
      "author": {
        "id": 1002760
      },
      "writtenOn": "2015-08-14T10:49:09Z",
      "side": 1,
      "message": "s/2014/2015/",
      "range": {
        "startLine": 2,
        "startChar": 13,
        "endLine": 2,
        "endChar": 17
      },
      "revId": "960c8b7ab74001f107a5ae4129aeba3d8fc6214a",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9ad9bd40_32886370",
        "filename": "midolman/src/main/scala/org/midonet/midolman/l4lb/HealthMonitorConfigWatcher.scala",
        "patchSetId": 4
      },
      "lineNbr": 2,
      "author": {
        "id": 1002751
      },
      "writtenOn": "2015-08-14T11:43:04Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "9ad9bd40_775c9d7d",
      "range": {
        "startLine": 2,
        "startChar": 13,
        "endLine": 2,
        "endChar": 17
      },
      "revId": "960c8b7ab74001f107a5ae4129aeba3d8fc6214a",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9ad9bd40_b751c563",
        "filename": "midolman/src/main/scala/org/midonet/midolman/simulation/LoadBalancer.scala",
        "patchSetId": 4
      },
      "lineNbr": 2,
      "author": {
        "id": 1002760
      },
      "writtenOn": "2015-08-14T10:49:09Z",
      "side": 1,
      "message": "s/2014/2015/",
      "range": {
        "startLine": 2,
        "startChar": 13,
        "endLine": 2,
        "endChar": 17
      },
      "revId": "960c8b7ab74001f107a5ae4129aeba3d8fc6214a",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9ad9bd40_727e6b6b",
        "filename": "midolman/src/main/scala/org/midonet/midolman/simulation/LoadBalancer.scala",
        "patchSetId": 4
      },
      "lineNbr": 2,
      "author": {
        "id": 1002751
      },
      "writtenOn": "2015-08-14T11:43:04Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "9ad9bd40_b751c563",
      "range": {
        "startLine": 2,
        "startChar": 13,
        "endLine": 2,
        "endChar": 17
      },
      "revId": "960c8b7ab74001f107a5ae4129aeba3d8fc6214a",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9ad9bd40_d74c89ca",
        "filename": "midolman/src/main/scala/org/midonet/midolman/simulation/Pool.scala",
        "patchSetId": 4
      },
      "lineNbr": 2,
      "author": {
        "id": 1002760
      },
      "writtenOn": "2015-08-14T10:49:09Z",
      "side": 1,
      "message": "s/2014/2015/",
      "range": {
        "startLine": 2,
        "startChar": 13,
        "endLine": 2,
        "endChar": 17
      },
      "revId": "960c8b7ab74001f107a5ae4129aeba3d8fc6214a",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9ad9bd40_92984fc1",
        "filename": "midolman/src/main/scala/org/midonet/midolman/simulation/Pool.scala",
        "patchSetId": 4
      },
      "lineNbr": 2,
      "author": {
        "id": 1002751
      },
      "writtenOn": "2015-08-14T11:43:04Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "9ad9bd40_d74c89ca",
      "range": {
        "startLine": 2,
        "startChar": 13,
        "endLine": 2,
        "endChar": 17
      },
      "revId": "960c8b7ab74001f107a5ae4129aeba3d8fc6214a",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9ad9bd40_f747cda0",
        "filename": "midolman/src/main/scala/org/midonet/midolman/simulation/Vip.scala",
        "patchSetId": 4
      },
      "lineNbr": 2,
      "author": {
        "id": 1002760
      },
      "writtenOn": "2015-08-14T10:49:09Z",
      "side": 1,
      "message": "s/2014/2015/",
      "range": {
        "startLine": 2,
        "startChar": 13,
        "endLine": 2,
        "endChar": 17
      },
      "revId": "960c8b7ab74001f107a5ae4129aeba3d8fc6214a",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9ad9bd40_b29393a1",
        "filename": "midolman/src/main/scala/org/midonet/midolman/simulation/Vip.scala",
        "patchSetId": 4
      },
      "lineNbr": 2,
      "author": {
        "id": 1002751
      },
      "writtenOn": "2015-08-14T11:43:04Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "9ad9bd40_f747cda0",
      "range": {
        "startLine": 2,
        "startChar": 13,
        "endLine": 2,
        "endChar": 17
      },
      "revId": "960c8b7ab74001f107a5ae4129aeba3d8fc6214a",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9ad9bd40_d72d69a9",
        "filename": "midolman/src/main/scala/org/midonet/midolman/topology/DeviceMapper.scala",
        "patchSetId": 4
      },
      "lineNbr": 79,
      "author": {
        "id": 1002760
      },
      "writtenOn": "2015-08-14T10:49:09Z",
      "side": 1,
      "message": "Instead of subclassing this class, isn\u0027t it better to make DeviceSate to take Observable[T]?",
      "range": {
        "startLine": 73,
        "startChar": 4,
        "endLine": 79,
        "endChar": 37
      },
      "revId": "960c8b7ab74001f107a5ae4129aeba3d8fc6214a",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9ad9bd40_32ef831f",
        "filename": "midolman/src/main/scala/org/midonet/midolman/topology/DeviceMapper.scala",
        "patchSetId": 4
      },
      "lineNbr": 79,
      "author": {
        "id": 1002751
      },
      "writtenOn": "2015-08-14T11:43:04Z",
      "side": 1,
      "message": "But the operators applied to the observable would have to modify members that are private to this class. Although it would be possible to pass the core part of the observable as an argument and apply the remaining of the operations here. However, another complaint that this change was intended to address, was that in many places in the mapper we duplicate the same code, either:\n\n  observable \u003d VirtualTopology\n            .observable[T](id)\n            .doOnNext(makeAction1(currentDevice \u003d _))\n            .doOnCompleted(makeAction0(() \u003d\u003e currentDevice \u003d null))\n            .takeUntil(mark)\n\nor:\n\n  observable \u003d vt.store\n            .observable(uTag.runtimeClass.asInstanceOf[Class[U]], id)\n            .distinctUntilChanged()\n            .observeOn(vt.vtScheduler)\n            .map[T](makeFunc1(deviceUpdated))\n            .doOnCompleted(makeAction0(() \u003d\u003e currentDevice \u003d null))\n            .takeUntil(mark)\n\nThis change intended to consolidate these two sources of updates (from ZOOM and from the VT) in a single place.",
      "parentUuid": "9ad9bd40_d72d69a9",
      "range": {
        "startLine": 73,
        "startChar": 4,
        "endLine": 79,
        "endChar": 37
      },
      "revId": "960c8b7ab74001f107a5ae4129aeba3d8fc6214a",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9ad9bd40_d2749737",
        "filename": "midolman/src/main/scala/org/midonet/midolman/topology/DeviceMapper.scala",
        "patchSetId": 4
      },
      "lineNbr": 79,
      "author": {
        "id": 1002760
      },
      "writtenOn": "2015-08-14T13:10:48Z",
      "side": 1,
      "message": "So in this code,\n\n  observable \u003d ########\n            .#############\n            .doOnNext(makeAction1(currentDevice \u003d _))\n            .doOnCompleted(makeAction0(() \u003d\u003e currentDevice \u003d null))\n            .takeUntil(mark)\nor:\n  observable \u003d ########\n            .#############\n            .distinctUntilChanged()\n            .observeOn(vt.vtScheduler)\n            .map[T](makeFunc1(deviceUpdated))\n            .doOnCompleted(makeAction0(() \u003d\u003e currentDevice \u003d null))\n            .takeUntil(mark)\n\nThe last 3 lines are essentially equivalent, as deviceUpdate for the vt.store just basically converts from topology object to simulation object, then sets \"currentDevice\". We can do the conversion directly on the source observable before passing it to DeviceState.\n\nFor \".distinctUntilChanged()\" and \".observeOn(...)\", can we apply this to VirtualTopology Observables?",
      "parentUuid": "9ad9bd40_32ef831f",
      "range": {
        "startLine": 73,
        "startChar": 4,
        "endLine": 79,
        "endChar": 37
      },
      "revId": "960c8b7ab74001f107a5ae4129aeba3d8fc6214a",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9ad9bd40_45035e0d",
        "filename": "midolman/src/main/scala/org/midonet/midolman/topology/DeviceMapper.scala",
        "patchSetId": 4
      },
      "lineNbr": 79,
      "author": {
        "id": 1002751
      },
      "writtenOn": "2015-08-17T09:59:49Z",
      "side": 1,
      "message": "Done.",
      "parentUuid": "9ad9bd40_d2749737",
      "range": {
        "startLine": 73,
        "startChar": 4,
        "endLine": 79,
        "endChar": 37
      },
      "revId": "960c8b7ab74001f107a5ae4129aeba3d8fc6214a",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9ad9bd40_d249f760",
        "filename": "midolman/src/main/scala/org/midonet/midolman/topology/LoadBalancerMapper.scala",
        "patchSetId": 4
      },
      "lineNbr": 103,
      "author": {
        "id": 1002760
      },
      "writtenOn": "2015-08-14T10:49:09Z",
      "side": 1,
      "message": "Isn\u0027t it more readable to just inline this method and simply return loadBalancer?",
      "range": {
        "startLine": 103,
        "startChar": 16,
        "endLine": 103,
        "endChar": 27
      },
      "revId": "960c8b7ab74001f107a5ae4129aeba3d8fc6214a",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9ad9bd40_92df6f68",
        "filename": "midolman/src/main/scala/org/midonet/midolman/topology/LoadBalancerMapper.scala",
        "patchSetId": 4
      },
      "lineNbr": 103,
      "author": {
        "id": 1002751
      },
      "writtenOn": "2015-08-14T11:43:04Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "9ad9bd40_d249f760",
      "range": {
        "startLine": 103,
        "startChar": 16,
        "endLine": 103,
        "endChar": 27
      },
      "revId": "960c8b7ab74001f107a5ae4129aeba3d8fc6214a",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9ad9bd40_923ccfc9",
        "filename": "midolman/src/main/scala/org/midonet/midolman/topology/LoadBalancerMapper.scala",
        "patchSetId": 4
      },
      "lineNbr": 112,
      "author": {
        "id": 1002760
      },
      "writtenOn": "2015-08-14T10:49:09Z",
      "side": 1,
      "message": "We should either rename this as isLoadBalancerReadyAndChanged, or split this into two separate functions: isLoadBalancerReady and isLoadBalancerChanged.",
      "range": {
        "startLine": 112,
        "startChar": 0,
        "endLine": 112,
        "endChar": 61
      },
      "revId": "960c8b7ab74001f107a5ae4129aeba3d8fc6214a",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9ad9bd40_b2dab375",
        "filename": "midolman/src/main/scala/org/midonet/midolman/topology/LoadBalancerMapper.scala",
        "patchSetId": 4
      },
      "lineNbr": 112,
      "author": {
        "id": 1002751
      },
      "writtenOn": "2015-08-14T11:43:04Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "9ad9bd40_923ccfc9",
      "range": {
        "startLine": 112,
        "startChar": 0,
        "endLine": 112,
        "endChar": 61
      },
      "revId": "960c8b7ab74001f107a5ae4129aeba3d8fc6214a",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9ad9bd40_32530318",
        "filename": "midolman/src/main/scala/org/midonet/midolman/topology/LoadBalancerMapper.scala",
        "patchSetId": 4
      },
      "lineNbr": 137,
      "author": {
        "id": 1002760
      },
      "writtenOn": "2015-08-14T10:49:09Z",
      "side": 1,
      "message": "Seems like it can be simplified to do this in a single loop. How much we can gain efficiency by computing the initial array size?",
      "range": {
        "startLine": 133,
        "startChar": 8,
        "endLine": 137,
        "endChar": 9
      },
      "revId": "960c8b7ab74001f107a5ae4129aeba3d8fc6214a",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9ad9bd40_d2e57738",
        "filename": "midolman/src/main/scala/org/midonet/midolman/topology/LoadBalancerMapper.scala",
        "patchSetId": 4
      },
      "lineNbr": 137,
      "author": {
        "id": 1002751
      },
      "writtenOn": "2015-08-14T11:43:04Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "9ad9bd40_32530318",
      "range": {
        "startLine": 133,
        "startChar": 8,
        "endLine": 137,
        "endChar": 9
      },
      "revId": "960c8b7ab74001f107a5ae4129aeba3d8fc6214a",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9ad9bd40_9243ef40",
        "filename": "midolman/src/main/scala/org/midonet/midolman/topology/LoadBalancerMapper.scala",
        "patchSetId": 4
      },
      "lineNbr": 141,
      "author": {
        "id": 1002760
      },
      "writtenOn": "2015-08-14T10:49:09Z",
      "side": 1,
      "message": "Just commenting that there should always exist a Router for each LB.",
      "range": {
        "startLine": 141,
        "startChar": 25,
        "endLine": 141,
        "endChar": 54
      },
      "revId": "960c8b7ab74001f107a5ae4129aeba3d8fc6214a",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9ad9bd40_72ccabbb",
        "filename": "midolman/src/main/scala/org/midonet/midolman/topology/LoadBalancerMapper.scala",
        "patchSetId": 4
      },
      "lineNbr": 141,
      "author": {
        "id": 1002751
      },
      "writtenOn": "2015-08-14T11:43:04Z",
      "side": 1,
      "message": "I think this was only intended as a sanity check. Now I added it to the filter.",
      "parentUuid": "9ad9bd40_9243ef40",
      "range": {
        "startLine": 141,
        "startChar": 25,
        "endLine": 141,
        "endChar": 54
      },
      "revId": "960c8b7ab74001f107a5ae4129aeba3d8fc6214a",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9ad9bd40_d7fac941",
        "filename": "midolman/src/main/scala/org/midonet/midolman/topology/PoolManager.scala",
        "patchSetId": 4
      },
      "lineNbr": 2,
      "author": {
        "id": 1002760
      },
      "writtenOn": "2015-08-14T10:49:09Z",
      "side": 1,
      "message": "s/2014/2015/",
      "range": {
        "startLine": 2,
        "startChar": 13,
        "endLine": 2,
        "endChar": 17
      },
      "revId": "960c8b7ab74001f107a5ae4129aeba3d8fc6214a",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9ad9bd40_92c68f98",
        "filename": "midolman/src/main/scala/org/midonet/midolman/topology/PoolManager.scala",
        "patchSetId": 4
      },
      "lineNbr": 2,
      "author": {
        "id": 1002751
      },
      "writtenOn": "2015-08-14T11:43:04Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "9ad9bd40_d7fac941",
      "range": {
        "startLine": 2,
        "startChar": 13,
        "endLine": 2,
        "endChar": 17
      },
      "revId": "960c8b7ab74001f107a5ae4129aeba3d8fc6214a",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9ad9bd40_526de7ca",
        "filename": "midolman/src/main/scala/org/midonet/midolman/topology/PoolMapper.scala",
        "patchSetId": 4
      },
      "lineNbr": 159,
      "author": {
        "id": 1002760
      },
      "writtenOn": "2015-08-14T10:49:09Z",
      "side": 1,
      "message": "This too may be just inlined.",
      "range": {
        "startLine": 159,
        "startChar": 16,
        "endLine": 159,
        "endChar": 26
      },
      "revId": "960c8b7ab74001f107a5ae4129aeba3d8fc6214a",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9ad9bd40_b2c1d381",
        "filename": "midolman/src/main/scala/org/midonet/midolman/topology/PoolMapper.scala",
        "patchSetId": 4
      },
      "lineNbr": 159,
      "author": {
        "id": 1002751
      },
      "writtenOn": "2015-08-14T11:43:04Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "9ad9bd40_526de7ca",
      "range": {
        "startLine": 159,
        "startChar": 16,
        "endLine": 159,
        "endChar": 26
      },
      "revId": "960c8b7ab74001f107a5ae4129aeba3d8fc6214a",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9ad9bd40_17bfd161",
        "filename": "midolman/src/test/scala/org/midonet/cluster/topology/TopologyMatchers.scala",
        "patchSetId": 4
      },
      "lineNbr": 294,
      "author": {
        "id": 1002760
      },
      "writtenOn": "2015-08-14T10:49:09Z",
      "side": 1,
      "message": "v.hasSessionPersistence \u0026\u0026\n    v.getSessionPersistence \u003d\u003d SessionPersistence.SOURCE_IP",
      "range": {
        "startLine": 293,
        "startChar": 42,
        "endLine": 294,
        "endChar": 83
      },
      "revId": "960c8b7ab74001f107a5ae4129aeba3d8fc6214a",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9ad9bd40_d2bc9708",
        "filename": "midolman/src/test/scala/org/midonet/cluster/topology/TopologyMatchers.scala",
        "patchSetId": 4
      },
      "lineNbr": 294,
      "author": {
        "id": 1002751
      },
      "writtenOn": "2015-08-14T11:43:04Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "9ad9bd40_17bfd161",
      "range": {
        "startLine": 293,
        "startChar": 42,
        "endLine": 294,
        "endChar": 83
      },
      "revId": "960c8b7ab74001f107a5ae4129aeba3d8fc6214a",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9ad9bd40_37c215e9",
        "filename": "midolman/src/test/scala/org/midonet/midolman/topology/LoadBalancerMapperTest.scala",
        "patchSetId": 4
      },
      "lineNbr": 79,
      "author": {
        "id": 1002760
      },
      "writtenOn": "2015-08-14T10:49:09Z",
      "side": 1,
      "message": "s/emit/emits/",
      "range": {
        "startLine": 79,
        "startChar": 29,
        "endLine": 79,
        "endChar": 33
      },
      "revId": "960c8b7ab74001f107a5ae4129aeba3d8fc6214a",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9ad9bd40_f2b7db1e",
        "filename": "midolman/src/test/scala/org/midonet/midolman/topology/LoadBalancerMapperTest.scala",
        "patchSetId": 4
      },
      "lineNbr": 79,
      "author": {
        "id": 1002751
      },
      "writtenOn": "2015-08-14T11:43:04Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "9ad9bd40_37c215e9",
      "range": {
        "startLine": 79,
        "startChar": 29,
        "endLine": 79,
        "endChar": 33
      },
      "revId": "960c8b7ab74001f107a5ae4129aeba3d8fc6214a",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9ad9bd40_926a0fb1",
        "filename": "midonet-util/src/main/scala/org/midonet/util/collection/package.scala",
        "patchSetId": 4
      },
      "lineNbr": 48,
      "author": {
        "id": 1002760
      },
      "writtenOn": "2015-08-14T10:49:09Z",
      "side": 1,
      "message": "We can specify map.keys as a default param for \"keys\" and simplify the code a bit.",
      "range": {
        "startLine": 48,
        "startChar": 24,
        "endLine": 48,
        "endChar": 36
      },
      "revId": "960c8b7ab74001f107a5ae4129aeba3d8fc6214a",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9ad9bd40_323dc38f",
        "filename": "midonet-util/src/main/scala/org/midonet/util/collection/package.scala",
        "patchSetId": 4
      },
      "lineNbr": 48,
      "author": {
        "id": 1002751
      },
      "writtenOn": "2015-08-14T11:43:04Z",
      "side": 1,
      "message": "I\u0027m not sure I get this: do you mean that map.keys be a default value for keys, as:\n\n  def orderAsKeys(keys \u003d map.keys) ?\n\nAnyway, to clarify a bit: this method should return the values from the map as a sequence and in the same order as the elements of keys, something like\n\n  map(keys: Seq[K]): Seq[V]\n\nI looked for a way this was already done in Scala, but couldn\u0027t find one.",
      "parentUuid": "9ad9bd40_926a0fb1",
      "range": {
        "startLine": 48,
        "startChar": 24,
        "endLine": 48,
        "endChar": 36
      },
      "revId": "960c8b7ab74001f107a5ae4129aeba3d8fc6214a",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9ad9bd40_72ad8b9a",
        "filename": "midonet-util/src/main/scala/org/midonet/util/collection/package.scala",
        "patchSetId": 4
      },
      "lineNbr": 48,
      "author": {
        "id": 1002760
      },
      "writtenOn": "2015-08-14T13:10:48Z",
      "side": 1,
      "message": "Yes, and with that default param, I thought that you could simplify the line 182-185 in the PoolMapper as:\n\n            members.orderAsKeys().map(_.device).toArray,\n            activePoolMembers.orderAsKeys(memberIds).map(_.device).toArray,\n            disabledPoolMembers.orderAsKeys(memberIds).map(_.device).toArray,\n            vips.orderAsKeys().map(_.device).toArray)\n\n\nBut on the other hand, you can also do,\n\n\n        val sortedMembers \u003d memberIds foreach { members.get(_) } flatten\n        val activePoolMembers \u003d memberIds foreach { members.get(_) } flatten filter(_isUp)\n        val disabledPoolMembers \u003d memberIds foreach { members.get(_) } flatten filterNot(_.adminStateUp)\n\n\nIf all that we need is that those 3 are ordered consistently, we can do just\n\n\n        val sortedMembers \u003d members values\n        val activePoolMembers \u003d members values filter(_.isUp) toSeq\n        val disabledPoolMembers \u003d members values filterNot(_.adminStateUp) toSeq",
      "parentUuid": "9ad9bd40_323dc38f",
      "range": {
        "startLine": 48,
        "startChar": 24,
        "endLine": 48,
        "endChar": 36
      },
      "revId": "960c8b7ab74001f107a5ae4129aeba3d8fc6214a",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9ad9bd40_055eb612",
        "filename": "midonet-util/src/main/scala/org/midonet/util/collection/package.scala",
        "patchSetId": 4
      },
      "lineNbr": 48,
      "author": {
        "id": 1002751
      },
      "writtenOn": "2015-08-17T09:59:49Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "9ad9bd40_72ad8b9a",
      "range": {
        "startLine": 48,
        "startChar": 24,
        "endLine": 48,
        "endChar": 36
      },
      "revId": "960c8b7ab74001f107a5ae4129aeba3d8fc6214a",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    }
  ]
}