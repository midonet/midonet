{
  "comments": [
    {
      "key": {
        "uuid": "facab960_4e0cbfed",
        "filename": "/COMMIT_MSG",
        "patchSetId": 5
      },
      "lineNbr": 7,
      "author": {
        "id": 1002763
      },
      "writtenOn": "2015-06-23T12:41:44Z",
      "side": 1,
      "message": "this commit message summary is unintelligible.",
      "revId": "7754678449e1847b185e621c02ab7af65e99f88b",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "facab960_0eed57b7",
        "filename": "/COMMIT_MSG",
        "patchSetId": 5
      },
      "lineNbr": 7,
      "author": {
        "id": 1002754
      },
      "writtenOn": "2015-06-23T17:17:13Z",
      "side": 1,
      "message": "suggestions?",
      "parentUuid": "facab960_4e0cbfed",
      "revId": "7754678449e1847b185e621c02ab7af65e99f88b",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "facab960_e852e365",
        "filename": "/COMMIT_MSG",
        "patchSetId": 5
      },
      "lineNbr": 7,
      "author": {
        "id": 1002763
      },
      "writtenOn": "2015-06-24T10:17:45Z",
      "side": 1,
      "message": "I think you are referring to having a no-vlan tag (0) as \"using 802.1Q\", whereas a 802.1Q is the actual VLANs standard, so when one says \"802.1Q packet\" most people undertand that packet is vlan-tagged. And your title (besides not describing the change) is saying the opposite, which sounds awkward.",
      "parentUuid": "facab960_0eed57b7",
      "revId": "7754678449e1847b185e621c02ab7af65e99f88b",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "facab960_287ccbb4",
        "filename": "/COMMIT_MSG",
        "patchSetId": 5
      },
      "lineNbr": 7,
      "author": {
        "id": 1002754
      },
      "writtenOn": "2015-06-24T10:32:29Z",
      "side": 1,
      "message": "I changed it in the latest patch.",
      "parentUuid": "facab960_e852e365",
      "revId": "7754678449e1847b185e621c02ab7af65e99f88b",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "facab960_0e50f7d2",
        "filename": "midolman/src/main/scala/org/midonet/midolman/simulation/Bridge.scala",
        "patchSetId": 5
      },
      "lineNbr": 253,
      "author": {
        "id": 1002763
      },
      "writtenOn": "2015-06-23T12:41:44Z",
      "side": 1,
      "message": "this should probably be DEBUG level anyway.",
      "revId": "7754678449e1847b185e621c02ab7af65e99f88b",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "facab960_6e334362",
        "filename": "midolman/src/main/scala/org/midonet/midolman/simulation/Bridge.scala",
        "patchSetId": 5
      },
      "lineNbr": 253,
      "author": {
        "id": 1002754
      },
      "writtenOn": "2015-06-23T17:17:13Z",
      "side": 1,
      "message": "i can change it",
      "parentUuid": "facab960_0e50f7d2",
      "revId": "7754678449e1847b185e621c02ab7af65e99f88b",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "facab960_6e0d03e8",
        "filename": "midolman/src/main/scala/org/midonet/midolman/simulation/Bridge.scala",
        "patchSetId": 5
      },
      "lineNbr": 534,
      "author": {
        "id": 1002763
      },
      "writtenOn": "2015-06-23T12:41:44Z",
      "side": 1,
      "message": "there\u0027s no actual change here except the removal of options, right?",
      "revId": "7754678449e1847b185e621c02ab7af65e99f88b",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "facab960_ae40eba5",
        "filename": "midolman/src/main/scala/org/midonet/midolman/simulation/Bridge.scala",
        "patchSetId": 5
      },
      "lineNbr": 534,
      "author": {
        "id": 1002754
      },
      "writtenOn": "2015-06-23T17:17:13Z",
      "side": 1,
      "message": "right, i\u0027m just making this readable with less orElse\u0027s",
      "parentUuid": "facab960_6e0d03e8",
      "revId": "7754678449e1847b185e621c02ab7af65e99f88b",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "facab960_084c67c7",
        "filename": "midolman/src/main/scala/org/midonet/midolman/simulation/Bridge.scala",
        "patchSetId": 5
      },
      "lineNbr": 534,
      "author": {
        "id": 1002763
      },
      "writtenOn": "2015-06-24T10:17:45Z",
      "side": 1,
      "message": "I\u0027m fine with this but found the previous version more readable.",
      "parentUuid": "facab960_ae40eba5",
      "revId": "7754678449e1847b185e621c02ab7af65e99f88b",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "facab960_e87583cb",
        "filename": "midolman/src/main/scala/org/midonet/midolman/simulation/Bridge.scala",
        "patchSetId": 5
      },
      "lineNbr": 534,
      "author": {
        "id": 1002754
      },
      "writtenOn": "2015-06-24T10:32:29Z",
      "side": 1,
      "message": "I can change it back, but really? with function-local functions, branches tucked away in getOrElse? if\u0027s in case statements? using options just to branch? all mixed together? I found it pretty hard to follow and had to untangle it.",
      "parentUuid": "facab960_084c67c7",
      "revId": "7754678449e1847b185e621c02ab7af65e99f88b",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "facab960_282a0b90",
        "filename": "midolman/src/main/scala/org/midonet/midolman/simulation/Bridge.scala",
        "patchSetId": 5
      },
      "lineNbr": 534,
      "author": {
        "id": 1002754
      },
      "writtenOn": "2015-06-24T10:39:56Z",
      "side": 1,
      "message": "val inPortVlan \u003d Option(vlanToPort.getVlan(context.inPortId))\n\n  def getVlanFromFlowMatch \u003d context.wcmatch.getVlanIds match {\n    case l: java.util.List[_] if !l.isEmpty \u003d\u003e \n         Some(l.get(0))\n     case _ \u003d\u003e \n        None\n  }\n\n  inPortVlan orElse getVlanFromFlowMatch\n\nwe create an option that will be either None or Some depending on whether the value is null or not. then we define a function, that is basically an if that creates another option. but we don\u0027t execute this function now, only if the option we created was a Some, so we branch again, through a library call, on the same condition we branched at the beginning of the function.\n\nalternatively:\n\n   if (vlanToPort.getVlan(context.inPortId) ne null)\n      vlanToPort.getVlan(context.inPortId)\n   else if (!context.wcmatch.getVlanIds.isEmpty)\n      context.wcmatch.getVlanIds.get(0)\n   else \n      UntaggedVlan",
      "parentUuid": "facab960_e87583cb",
      "revId": "7754678449e1847b185e621c02ab7af65e99f88b",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "facab960_08046716",
        "filename": "midolman/src/main/scala/org/midonet/midolman/simulation/Bridge.scala",
        "patchSetId": 5
      },
      "lineNbr": 534,
      "author": {
        "id": 1002763
      },
      "writtenOn": "2015-06-24T10:44:28Z",
      "side": 1,
      "message": "It\u0027s fine really, don\u0027t worry :)",
      "parentUuid": "facab960_282a0b90",
      "revId": "7754678449e1847b185e621c02ab7af65e99f88b",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "facab960_4e33dfaa",
        "filename": "midolman/src/main/scala/org/midonet/midolman/simulation/RouterBase.scala",
        "patchSetId": 5
      },
      "lineNbr": 72,
      "author": {
        "id": 1002763
      },
      "writtenOn": "2015-06-23T12:41:44Z",
      "side": 1,
      "message": "shouldn\u0027t these packets come out without the 0-tag on the other side of the router? after all, it\u0027s a l3 device.",
      "revId": "7754678449e1847b185e621c02ab7af65e99f88b",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "facab960_8e86c7d9",
        "filename": "midolman/src/main/scala/org/midonet/midolman/simulation/RouterBase.scala",
        "patchSetId": 5
      },
      "lineNbr": 72,
      "author": {
        "id": 1002754
      },
      "writtenOn": "2015-06-23T17:17:13Z",
      "side": 1,
      "message": "i\u0027m not so sure. for example, vrf\u0027s, i think, send vlan tagged packets between each other (between different routers). so this is something you might want to keep?",
      "parentUuid": "facab960_4e33dfaa",
      "revId": "7754678449e1847b185e621c02ab7af65e99f88b",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "facab960_68ced32f",
        "filename": "midolman/src/main/scala/org/midonet/midolman/simulation/RouterBase.scala",
        "patchSetId": 5
      },
      "lineNbr": 72,
      "author": {
        "id": 1002763
      },
      "writtenOn": "2015-06-24T10:17:45Z",
      "side": 1,
      "message": "My 1st guess would be L2 information doesn\u0027t cross L3 forwarding eleements. If we are keeping it I\u0027d look for an authoritative source of wisdom.",
      "parentUuid": "facab960_8e86c7d9",
      "revId": "7754678449e1847b185e621c02ab7af65e99f88b",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    }
  ]
}