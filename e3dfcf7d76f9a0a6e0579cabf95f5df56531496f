{
  "comments": [
    {
      "key": {
        "uuid": "baa041b7_515a77f3",
        "filename": "midolman/src/test/scala/org/midonet/midolman/topology/RedirectRuleSimulationTest.scala",
        "patchSetId": 2
      },
      "lineNbr": 407,
      "author": {
        "id": 1006717
      },
      "writtenOn": "2016-09-19T09:01:54Z",
      "side": 1,
      "message": "Shouldn\u0027t it be \"to port 3 from port 1\"?",
      "range": {
        "startLine": 407,
        "startChar": 45,
        "endLine": 407,
        "endChar": 53
      },
      "revId": "e3dfcf7d76f9a0a6e0579cabf95f5df56531496f",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "baa041b7_7159fb8d",
        "filename": "midolman/src/test/scala/org/midonet/midolman/topology/RedirectRuleSimulationTest.scala",
        "patchSetId": 2
      },
      "lineNbr": 407,
      "author": {
        "id": 1003318
      },
      "writtenOn": "2016-09-19T10:37:50Z",
      "side": 1,
      "message": "The source port is vm3 on the service bridge, sending a packet without vlan to service port 2 (on the service bridge). It simulates a packet coming from a management bridge (without redirections) directly into the service port. Not sure if I explained this well, ping me directly if not clear.",
      "parentUuid": "baa041b7_515a77f3",
      "range": {
        "startLine": 407,
        "startChar": 45,
        "endLine": 407,
        "endChar": 53
      },
      "revId": "e3dfcf7d76f9a0a6e0579cabf95f5df56531496f",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "baa041b7_d48af563",
        "filename": "midolman/src/test/scala/org/midonet/midolman/topology/RedirectRuleSimulationTest.scala",
        "patchSetId": 2
      },
      "lineNbr": 407,
      "author": {
        "id": 1003555
      },
      "writtenOn": "2016-09-19T12:34:50Z",
      "side": 1,
      "message": "I don\u0027t see where svc2Port is involved here. mac3 and mac1 belong to VM ports.",
      "parentUuid": "baa041b7_7159fb8d",
      "range": {
        "startLine": 407,
        "startChar": 45,
        "endLine": 407,
        "endChar": 53
      },
      "revId": "e3dfcf7d76f9a0a6e0579cabf95f5df56531496f",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "baa041b7_94c90d28",
        "filename": "midolman/src/test/scala/org/midonet/midolman/topology/RedirectRuleSimulationTest.scala",
        "patchSetId": 2
      },
      "lineNbr": 407,
      "author": {
        "id": 1003318
      },
      "writtenOn": "2016-09-19T14:35:19Z",
      "side": 1,
      "message": "Actually, mac1 is added as the mac address in the l2insertion object (line 76) and there are two l2insertion objects being created (one for each svc1Port and svc2Port). Looking at the output actions after simulating the packet, I see there are two ToPortAction, one for each service port so the packet is being forwarded to both ports. I assumed that\u0027s how it was supposed to work.",
      "parentUuid": "baa041b7_d48af563",
      "range": {
        "startLine": 407,
        "startChar": 45,
        "endLine": 407,
        "endChar": 53
      },
      "revId": "e3dfcf7d76f9a0a6e0579cabf95f5df56531496f",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "baa041b7_cf626216",
        "filename": "midolman/src/test/scala/org/midonet/midolman/topology/RedirectRuleSimulationTest.scala",
        "patchSetId": 2
      },
      "lineNbr": 407,
      "author": {
        "id": 1003555
      },
      "writtenOn": "2016-09-19T18:10:25Z",
      "side": 1,
      "message": "Ah, no, the addServiceToPort is a little confusing. The only parameter you should look at there is the service port. The service ports here are svc1Port and svc2Port. I would recommend creating a new test for this, which just creates a single service port, and tries to send traffic to it. It should fail without your change and pass with it.",
      "parentUuid": "baa041b7_94c90d28",
      "range": {
        "startLine": 407,
        "startChar": 45,
        "endLine": 407,
        "endChar": 53
      },
      "revId": "e3dfcf7d76f9a0a6e0579cabf95f5df56531496f",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    }
  ]
}