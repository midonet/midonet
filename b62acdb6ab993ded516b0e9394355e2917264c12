{
  "comments": [
    {
      "key": {
        "uuid": "baa041b7_71ac3088",
        "filename": "/COMMIT_MSG",
        "patchSetId": 11
      },
      "lineNbr": 13,
      "author": {
        "id": 1002897
      },
      "writtenOn": "2016-09-30T04:05:42Z",
      "side": 1,
      "message": "this description made me think you need to modify gatewayPortCreateOps, rather than RouterInterfaceTranslator.\nisn\u0027t it the case?",
      "revId": "b62acdb6ab993ded516b0e9394355e2917264c12",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "baa041b7_cc4fe290",
        "filename": "/COMMIT_MSG",
        "patchSetId": 11
      },
      "lineNbr": 13,
      "author": {
        "id": 1002741
      },
      "writtenOn": "2016-10-03T06:05:55Z",
      "side": 1,
      "message": "Yes you are right. I have updated the commit message to reflect the fact that this change focuses on the edge router, where the interface would actually be a router interface and not a router gateway.",
      "parentUuid": "baa041b7_71ac3088",
      "revId": "b62acdb6ab993ded516b0e9394355e2917264c12",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "baa041b7_5fe812e2",
        "filename": "/COMMIT_MSG",
        "patchSetId": 11
      },
      "lineNbr": 13,
      "author": {
        "id": 1002897
      },
      "writtenOn": "2016-10-03T08:54:28Z",
      "side": 1,
      "message": "so FloatingIpTranslator changes are for tenant router\nand RouterInterface changes are for edge router?",
      "parentUuid": "baa041b7_cc4fe290",
      "revId": "b62acdb6ab993ded516b0e9394355e2917264c12",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "baa041b7_ffd486e9",
        "filename": "/COMMIT_MSG",
        "patchSetId": 11
      },
      "lineNbr": 13,
      "author": {
        "id": 1002741
      },
      "writtenOn": "2016-10-04T04:00:20Z",
      "side": 1,
      "message": "yes.",
      "parentUuid": "baa041b7_5fe812e2",
      "revId": "b62acdb6ab993ded516b0e9394355e2917264c12",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "baa041b7_737d4d6c",
        "filename": "/COMMIT_MSG",
        "patchSetId": 11
      },
      "lineNbr": 13,
      "author": {
        "id": 1002897
      },
      "writtenOn": "2016-10-04T07:11:51Z",
      "side": 1,
      "message": "the latter is unnecessary if a user creates router interfaces per subnet?",
      "parentUuid": "baa041b7_ffd486e9",
      "revId": "b62acdb6ab993ded516b0e9394355e2917264c12",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "baa041b7_92a3289e",
        "filename": "/COMMIT_MSG",
        "patchSetId": 11
      },
      "lineNbr": 13,
      "author": {
        "id": 1002741
      },
      "writtenOn": "2016-10-05T04:21:56Z",
      "side": 1,
      "message": "Tenant routers won\u0027t need the extra interfaces because the traffic would go up to the edge router, then routed down to the correct tenant router.",
      "parentUuid": "baa041b7_737d4d6c",
      "revId": "b62acdb6ab993ded516b0e9394355e2917264c12",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "baa041b7_31cb4855",
        "filename": "/COMMIT_MSG",
        "patchSetId": 11
      },
      "lineNbr": 19,
      "author": {
        "id": 1002897
      },
      "writtenOn": "2016-09-30T04:05:42Z",
      "side": 1,
      "message": "have you investigated what neutron l3 agent does?",
      "revId": "b62acdb6ab993ded516b0e9394355e2917264c12",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "baa041b7_ec31860c",
        "filename": "/COMMIT_MSG",
        "patchSetId": 11
      },
      "lineNbr": 19,
      "author": {
        "id": 1002741
      },
      "writtenOn": "2016-10-03T06:05:55Z",
      "side": 1,
      "message": "I have not investigated neutron l3 agent. I just assumed the problem would be different with the l3 agent because their router is a namespace and adding/deleting routes would be trivial.",
      "parentUuid": "baa041b7_31cb4855",
      "revId": "b62acdb6ab993ded516b0e9394355e2917264c12",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "baa041b7_1fee0aed",
        "filename": "/COMMIT_MSG",
        "patchSetId": 11
      },
      "lineNbr": 19,
      "author": {
        "id": 1002897
      },
      "writtenOn": "2016-10-03T08:54:28Z",
      "side": 1,
      "message": "i don\u0027t think l3 agent does \"add second subnet route\" things.\ni concern this change makes us diverge further from the api semantics.",
      "parentUuid": "baa041b7_ec31860c",
      "revId": "b62acdb6ab993ded516b0e9394355e2917264c12",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "baa041b7_58f9487f",
        "filename": "/COMMIT_MSG",
        "patchSetId": 11
      },
      "lineNbr": 19,
      "author": {
        "id": 1002741
      },
      "writtenOn": "2016-10-04T04:00:20Z",
      "side": 1,
      "message": "The second subnet route will only be added to our edge routers (or more specifically: routers with router interfaces in networks with multiple subnets). I think semantically this is consistent with the reference implementation because our edge router has no analog. It would correspond to the uplink router outside of the deployement, which I am assuming would have a second subnet route.",
      "parentUuid": "baa041b7_1fee0aed",
      "revId": "b62acdb6ab993ded516b0e9394355e2917264c12",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "baa041b7_13b6013e",
        "filename": "/COMMIT_MSG",
        "patchSetId": 11
      },
      "lineNbr": 19,
      "author": {
        "id": 1002897
      },
      "writtenOn": "2016-10-04T07:11:51Z",
      "side": 1,
      "message": "while i can understand the intention, i don\u0027t understand how the criteria excludes non-edge routers.\nare you assuming that tenant networks do never have multiple subnets for some reasons?",
      "parentUuid": "baa041b7_58f9487f",
      "revId": "b62acdb6ab993ded516b0e9394355e2917264c12",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "baa041b7_d2941037",
        "filename": "/COMMIT_MSG",
        "patchSetId": 11
      },
      "lineNbr": 19,
      "author": {
        "id": 1002741
      },
      "writtenOn": "2016-10-05T04:21:56Z",
      "side": 1,
      "message": "I am assuming that tenant networks will be hooked up to an external network through a gateway port, rather than a router interface. The extra routes only show up on routers with router interfaces.",
      "parentUuid": "baa041b7_13b6013e",
      "revId": "b62acdb6ab993ded516b0e9394355e2917264c12",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "baa041b7_d16f7c5e",
        "filename": "/COMMIT_MSG",
        "patchSetId": 11
      },
      "lineNbr": 21,
      "author": {
        "id": 1002897
      },
      "writtenOn": "2016-09-30T04:05:42Z",
      "side": 1,
      "message": "MI-953?\n\nalso, it\u0027s better to mention MNA-1148",
      "range": {
        "startLine": 21,
        "startChar": 6,
        "endLine": 21,
        "endChar": 12
      },
      "revId": "b62acdb6ab993ded516b0e9394355e2917264c12",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "baa041b7_0c526a35",
        "filename": "/COMMIT_MSG",
        "patchSetId": 11
      },
      "lineNbr": 21,
      "author": {
        "id": 1002741
      },
      "writtenOn": "2016-10-03T06:05:55Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "baa041b7_d16f7c5e",
      "range": {
        "startLine": 21,
        "startChar": 6,
        "endLine": 21,
        "endChar": 12
      },
      "revId": "b62acdb6ab993ded516b0e9394355e2917264c12",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "baa041b7_b1b638da",
        "filename": "midonet-cluster/src/main/scala/org/midonet/cluster/services/c3po/translators/FloatingIpTranslator.scala",
        "patchSetId": 11
      },
      "lineNbr": 170,
      "author": {
        "id": 1002897
      },
      "writtenOn": "2016-09-30T04:05:42Z",
      "side": 1,
      "message": "so, this function effectively checks if nRouter has an on-link route for fipAddr?",
      "revId": "b62acdb6ab993ded516b0e9394355e2917264c12",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "baa041b7_ec63c618",
        "filename": "midonet-cluster/src/main/scala/org/midonet/cluster/services/c3po/translators/FloatingIpTranslator.scala",
        "patchSetId": 11
      },
      "lineNbr": 170,
      "author": {
        "id": 1002741
      },
      "writtenOn": "2016-10-03T06:05:55Z",
      "side": 1,
      "message": "Correct.",
      "parentUuid": "baa041b7_b1b638da",
      "revId": "b62acdb6ab993ded516b0e9394355e2917264c12",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "baa041b7_51b12cdf",
        "filename": "midonet-cluster/src/main/scala/org/midonet/cluster/services/c3po/translators/RouterInterfaceTranslator.scala",
        "patchSetId": 11
      },
      "lineNbr": 86,
      "author": {
        "id": 1002897
      },
      "writtenOn": "2016-09-30T04:05:42Z",
      "side": 1,
      "message": "this would create multiple routes for a subnet if a router has two or more router interfaces whose connected subnets are in the same network.\nis it intended?",
      "revId": "b62acdb6ab993ded516b0e9394355e2917264c12",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "baa041b7_6c78d6c4",
        "filename": "midonet-cluster/src/main/scala/org/midonet/cluster/services/c3po/translators/RouterInterfaceTranslator.scala",
        "patchSetId": 11
      },
      "lineNbr": 86,
      "author": {
        "id": 1002741
      },
      "writtenOn": "2016-10-03T06:05:55Z",
      "side": 1,
      "message": "Yes, this is intended. The goal is to have all subnets attached to a given network routable from the router, to give access to any floating IP in the network (not just the ones in the first subnet).",
      "parentUuid": "baa041b7_51b12cdf",
      "revId": "b62acdb6ab993ded516b0e9394355e2917264c12",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "baa041b7_f1a9607d",
        "filename": "midonet-cluster/src/main/scala/org/midonet/cluster/services/c3po/translators/RouterInterfaceTranslator.scala",
        "patchSetId": 11
      },
      "lineNbr": 91,
      "author": {
        "id": 1002897
      },
      "writtenOn": "2016-09-30T04:05:42Z",
      "side": 1,
      "message": "isn\u0027t it simpler to make this use subnetRouteId as well?",
      "range": {
        "startLine": 91,
        "startChar": 17,
        "endLine": 91,
        "endChar": 39
      },
      "revId": "b62acdb6ab993ded516b0e9394355e2917264c12",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "baa041b7_4c7512c9",
        "filename": "midonet-cluster/src/main/scala/org/midonet/cluster/services/c3po/translators/RouterInterfaceTranslator.scala",
        "patchSetId": 11
      },
      "lineNbr": 91,
      "author": {
        "id": 1002741
      },
      "writtenOn": "2016-10-03T06:05:55Z",
      "side": 1,
      "message": "Yes, you are right this would be simpler. However, when this code gets to users the data in Zookeeper will still assume an id generated from routerInterfaceRouteId. So we are leaving this here to support backward compatibility.",
      "parentUuid": "baa041b7_f1a9607d",
      "range": {
        "startLine": 91,
        "startChar": 17,
        "endLine": 91,
        "endChar": 39
      },
      "revId": "b62acdb6ab993ded516b0e9394355e2917264c12",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    }
  ]
}