{
  "comments": [
    {
      "key": {
        "uuid": "7a1969be_dc299538",
        "filename": "brain/midonet-brain/src/main/scala/org/midonet/brain/services/c3po/translators/RouterTranslator.scala",
        "patchSetId": 6
      },
      "lineNbr": 150,
      "author": {
        "id": 1002760
      },
      "writtenOn": "2015-03-09T06:31:51Z",
      "side": 1,
      "message": "If SNAT is enabled, haven\u0027t the SNAT rules been already created?",
      "revId": "e6d1bc8e1e4fad4add168733198fa2874bbb3d20",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7a1969be_bcbc99dd",
        "filename": "brain/midonet-brain/src/main/scala/org/midonet/brain/services/c3po/translators/RouterTranslator.scala",
        "patchSetId": 6
      },
      "lineNbr": 150,
      "author": {
        "id": 1002821
      },
      "writtenOn": "2015-03-09T07:02:43Z",
      "side": 1,
      "message": "Not necessarily. An update can enable SNAT when it wasn\u0027t enabled before.",
      "parentUuid": "7a1969be_dc299538",
      "revId": "e6d1bc8e1e4fad4add168733198fa2874bbb3d20",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7a1969be_dcea35ab",
        "filename": "brain/midonet-brain/src/main/scala/org/midonet/brain/services/c3po/translators/RouterTranslator.scala",
        "patchSetId": 6
      },
      "lineNbr": 150,
      "author": {
        "id": 1002760
      },
      "writtenOn": "2015-03-09T08:03:28Z",
      "side": 1,
      "message": "When the SNAT rules have already been created, don\u0027t we end up duplicating them?",
      "parentUuid": "7a1969be_bcbc99dd",
      "revId": "e6d1bc8e1e4fad4add168733198fa2874bbb3d20",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7a1969be_9c339daa",
        "filename": "brain/midonet-brain/src/main/scala/org/midonet/brain/services/c3po/translators/RouterTranslator.scala",
        "patchSetId": 6
      },
      "lineNbr": 172,
      "author": {
        "id": 1002760
      },
      "writtenOn": "2015-03-09T06:31:51Z",
      "side": 1,
      "message": "This check is duplicated for the Update case, perhaps we remove it here and add a new call in gatewayPortCreateOps()?",
      "range": {
        "startLine": 172,
        "startChar": 8,
        "endLine": 172,
        "endChar": 29
      },
      "revId": "e6d1bc8e1e4fad4add168733198fa2874bbb3d20",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7a1969be_dcb7d5f3",
        "filename": "brain/midonet-brain/src/main/scala/org/midonet/brain/services/c3po/translators/RouterTranslator.scala",
        "patchSetId": 6
      },
      "lineNbr": 172,
      "author": {
        "id": 1002821
      },
      "writtenOn": "2015-03-09T07:02:43Z",
      "side": 1,
      "message": "I could do that, but then I have to do something like this:\n\n  val snatOps \u003d if (!snatEnabled(nr)) List()\n                else snatRuleCreateOps(...)",
      "parentUuid": "7a1969be_9c339daa",
      "range": {
        "startLine": 172,
        "startChar": 8,
        "endLine": 172,
        "endChar": 29
      },
      "revId": "e6d1bc8e1e4fad4add168733198fa2874bbb3d20",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7a1969be_bc065984",
        "filename": "brain/midonet-brain/src/main/scala/org/midonet/brain/services/c3po/translators/RouterTranslator.scala",
        "patchSetId": 6
      },
      "lineNbr": 172,
      "author": {
        "id": 1002760
      },
      "writtenOn": "2015-03-09T08:03:28Z",
      "side": 1,
      "message": "It\u0027s not that I\u0027m feeling strongly about this, but how about:\n\n\nif (snatEnabled(nr)) ops ++\u003d snatRuleCreateOps(nr, r, gwIpAddr, trGwPortId)",
      "parentUuid": "7a1969be_dcb7d5f3",
      "range": {
        "startLine": 172,
        "startChar": 8,
        "endLine": 172,
        "endChar": 29
      },
      "revId": "e6d1bc8e1e4fad4add168733198fa2874bbb3d20",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7a1969be_3c226952",
        "filename": "brain/midonet-brain/src/main/scala/org/midonet/brain/services/c3po/translators/RouterTranslator.scala",
        "patchSetId": 6
      },
      "lineNbr": 187,
      "author": {
        "id": 1002760
      },
      "writtenOn": "2015-03-09T06:31:51Z",
      "side": 1,
      "message": "Don\u0027t you want to pass the target address? Did you mean to call natRuleData?",
      "range": {
        "startLine": 187,
        "startChar": 28,
        "endLine": 187,
        "endChar": 73
      },
      "revId": "e6d1bc8e1e4fad4add168733198fa2874bbb3d20",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7a1969be_3cd0a91e",
        "filename": "brain/midonet-brain/src/main/scala/org/midonet/brain/services/c3po/translators/RouterTranslator.scala",
        "patchSetId": 6
      },
      "lineNbr": 187,
      "author": {
        "id": 1002821
      },
      "writtenOn": "2015-03-09T07:02:43Z",
      "side": 1,
      "message": "Oh, I misunderstood your last comment. I thought you wanted me to make this line like the one below. But yeah, this is wrong. It\u0027s only reverse NAT rules than don\u0027t have targets.",
      "parentUuid": "7a1969be_3c226952",
      "range": {
        "startLine": 187,
        "startChar": 28,
        "endLine": 187,
        "endChar": 73
      },
      "revId": "e6d1bc8e1e4fad4add168733198fa2874bbb3d20",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7a1969be_4bfaf575",
        "filename": "brain/midonet-brain/src/main/scala/org/midonet/brain/services/c3po/translators/RouterTranslator.scala",
        "patchSetId": 6
      },
      "lineNbr": 187,
      "author": {
        "id": 1002760
      },
      "writtenOn": "2015-03-10T02:40:09Z",
      "side": 1,
      "message": "I think that the reverse SNAT rule is the one below, and this is forward SNAT, so I think you need to specify the target address.",
      "parentUuid": "7a1969be_3cd0a91e",
      "range": {
        "startLine": 187,
        "startChar": 28,
        "endLine": 187,
        "endChar": 73
      },
      "revId": "e6d1bc8e1e4fad4add168733198fa2874bbb3d20",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7a1969be_9c0c3def",
        "filename": "brain/midonet-brain/src/main/scala/org/midonet/brain/services/c3po/translators/RouterTranslator.scala",
        "patchSetId": 6
      },
      "lineNbr": 197,
      "author": {
        "id": 1002760
      },
      "writtenOn": "2015-03-09T06:31:51Z",
      "side": 1,
      "message": "Ditto.",
      "revId": "e6d1bc8e1e4fad4add168733198fa2874bbb3d20",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7a1969be_0baf5d7e",
        "filename": "brain/midonet-brain/src/main/scala/org/midonet/brain/services/c3po/translators/RuleManager.scala",
        "patchSetId": 6
      },
      "lineNbr": 24,
      "author": {
        "id": 1002760
      },
      "writtenOn": "2015-03-10T02:40:09Z",
      "side": 1,
      "message": "A nit: This seems out-of-order.",
      "range": {
        "startLine": 24,
        "startChar": 49,
        "endLine": 24,
        "endChar": 60
      },
      "revId": "e6d1bc8e1e4fad4add168733198fa2874bbb3d20",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7a1969be_1c25ed08",
        "filename": "brain/midonet-brain/src/test/scala/org/midonet/brain/C3POMinionTest.scala",
        "patchSetId": 6
      },
      "lineNbr": 703,
      "author": {
        "id": 1002760
      },
      "writtenOn": "2015-03-09T08:03:28Z",
      "side": 1,
      "message": "This should be the ID of the Router, not Provider Gateway Port.",
      "range": {
        "startLine": 703,
        "startChar": 47,
        "endLine": 703,
        "endChar": 57
      },
      "revId": "e6d1bc8e1e4fad4add168733198fa2874bbb3d20",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7a1969be_1c1fad09",
        "filename": "brain/midonet-brain/src/test/scala/org/midonet/brain/C3POMinionTest.scala",
        "patchSetId": 6
      },
      "lineNbr": 783,
      "author": {
        "id": 1002760
      },
      "writtenOn": "2015-03-09T06:31:51Z",
      "side": 1,
      "message": "Extra whitespace.",
      "range": {
        "startLine": 783,
        "startChar": 0,
        "endLine": 783,
        "endChar": 4
      },
      "revId": "e6d1bc8e1e4fad4add168733198fa2874bbb3d20",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7a1969be_1ccded85",
        "filename": "brain/midonet-brain/src/test/scala/org/midonet/brain/C3POMinionTest.scala",
        "patchSetId": 6
      },
      "lineNbr": 783,
      "author": {
        "id": 1002821
      },
      "writtenOn": "2015-03-09T07:02:43Z",
      "side": 1,
      "message": "It\u0027s not extra whitespace. It\u0027s bonus whitespace.",
      "parentUuid": "7a1969be_1c1fad09",
      "range": {
        "startLine": 783,
        "startChar": 0,
        "endLine": 783,
        "endChar": 4
      },
      "revId": "e6d1bc8e1e4fad4add168733198fa2874bbb3d20",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    }
  ]
}