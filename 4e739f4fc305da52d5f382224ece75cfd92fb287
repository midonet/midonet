{
  "comments": [
    {
      "key": {
        "uuid": "1a106d94_970b0623",
        "filename": "midonet-api/src/main/java/org/midonet/api/rest_api/Authoriser.java",
        "patchSetId": 8
      },
      "lineNbr": 35,
      "author": {
        "id": 1002731
      },
      "writtenOn": "2015-05-13T07:57:38Z",
      "side": 1,
      "message": "I\u0027m wondering whether it\u0027s worth to make this a more generic inteface, e.g.\n\ndef authorise[T](id: UUID): T\n\nSo implementations can case match on the T and do as they please, instead of having per-resource methods.\n\nIt seems cleaner should this grow too much, but I don\u0027t quite see the need to overcomplicate at this point and it\u0027s a fairly easy change to make should we chose to do it.\n\n@Ryu @Alex what do you think?",
      "range": {
        "startLine": 35,
        "startChar": 22,
        "endLine": 35,
        "endChar": 32
      },
      "revId": "4e739f4fc305da52d5f382224ece75cfd92fb287",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1a106d94_b7a44208",
        "filename": "midonet-api/src/main/java/org/midonet/api/rest_api/Authoriser.java",
        "patchSetId": 8
      },
      "lineNbr": 35,
      "author": {
        "id": 1002740
      },
      "writtenOn": "2015-05-13T08:19:03Z",
      "side": 1,
      "message": "IMO, looking at the level of abstraction defined here, it does seem more appropriate to simply have:\n\nabstract public \u003cT\u003e T tryAuthorize(UUID id, String what)\n\nBut I don\u0027t think it needs to be part of this patch.",
      "parentUuid": "1a106d94_970b0623",
      "range": {
        "startLine": 35,
        "startChar": 22,
        "endLine": 35,
        "endChar": 32
      },
      "revId": "4e739f4fc305da52d5f382224ece75cfd92fb287",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1a106d94_977e6668",
        "filename": "midonet-api/src/main/java/org/midonet/api/rest_api/Authoriser.java",
        "patchSetId": 8
      },
      "lineNbr": 35,
      "author": {
        "id": 1002731
      },
      "writtenOn": "2015-05-13T08:28:04Z",
      "side": 1,
      "message": "The main reason I didn\u0027t want to do it like that is because it would force subimplementations of Authoriser, which is what I want to avoid (in order to avoid the need for a multitude of implementations injected, and coupled to the Resource), and provide implementations to use another backend. The approach proposed here is that you have an Authoriser.\n\nSo I\u0027d lean instead towards passing the class to authorise. Eg.:\n\n\u003cT\u003e tryAuthorize(UUID id, Class\u003cT\u003e klass, String what)\n\nThat way we can keep 1 Authoriser to rule them all.\n\nThis also fits better with the ZOOM model and the mostly-generic REST API Alex is working on, as we don\u0027t really know what the object to be authorised is. So given an object o, the generic Resource can just do:\n\ntryAuthorize(id, o.getClass(), ..) \n\nWhich is what I plan to do in a later patch when we provide a ZoomAuthorizer. \n\nSounds ok?",
      "parentUuid": "1a106d94_b7a44208",
      "range": {
        "startLine": 35,
        "startChar": 22,
        "endLine": 35,
        "endChar": 32
      },
      "revId": "4e739f4fc305da52d5f382224ece75cfd92fb287",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1a106d94_17455642",
        "filename": "midonet-api/src/test/java/org/midonet/api/servlet/RestApiTestJerseyServletModule.java",
        "patchSetId": 8
      },
      "lineNbr": 37,
      "author": {
        "id": 1002740
      },
      "writtenOn": "2015-05-13T08:19:03Z",
      "side": 1,
      "message": "What does this do?",
      "revId": "4e739f4fc305da52d5f382224ece75cfd92fb287",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1a106d94_d793bea0",
        "filename": "midonet-api/src/test/java/org/midonet/api/servlet/RestApiTestJerseyServletModule.java",
        "patchSetId": 8
      },
      "lineNbr": 37,
      "author": {
        "id": 1002731
      },
      "writtenOn": "2015-05-13T08:28:04Z",
      "side": 1,
      "message": "not sure why I enabled this, let me review it.",
      "parentUuid": "1a106d94_17455642",
      "revId": "4e739f4fc305da52d5f382224ece75cfd92fb287",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1a106d94_97cca6bc",
        "filename": "midonet-api/src/test/java/org/midonet/api/servlet/RestApiTestJerseyServletModule.java",
        "patchSetId": 8
      },
      "lineNbr": 37,
      "author": {
        "id": 1002731
      },
      "writtenOn": "2015-05-13T08:37:36Z",
      "side": 1,
      "message": "nothing.. reverted.",
      "parentUuid": "1a106d94_d793bea0",
      "revId": "4e739f4fc305da52d5f382224ece75cfd92fb287",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    }
  ]
}