{
  "comments": [
    {
      "key": {
        "uuid": "1a106d94_54f6b65d",
        "filename": "midolman/src/main/scala/org/midonet/midolman/DatapathController.scala",
        "patchSetId": 12
      },
      "lineNbr": 376,
      "author": {
        "id": 1002763
      },
      "writtenOn": "2015-05-11T14:07:53Z",
      "side": 1,
      "message": "is this related to the bgp mapper patch?",
      "revId": "d09a73c3cb61fb14a6d878a8bfc1302bc4df017e",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1a106d94_0cf096c8",
        "filename": "midolman/src/main/scala/org/midonet/midolman/DatapathController.scala",
        "patchSetId": 12
      },
      "lineNbr": 376,
      "author": {
        "id": 1002751
      },
      "writtenOn": "2015-05-18T15:33:02Z",
      "side": 1,
      "message": "It is the same comparison that was done in the method `IPAddr.equalsInetAddress`, which was only used here.",
      "parentUuid": "1a106d94_54f6b65d",
      "revId": "d09a73c3cb61fb14a6d878a8bfc1302bc4df017e",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1a106d94_14d9def2",
        "filename": "midolman/src/main/scala/org/midonet/midolman/routingprotocols/BGPRoute.scala",
        "patchSetId": 12
      },
      "lineNbr": 45,
      "author": {
        "id": 1002763
      },
      "writtenOn": "2015-05-11T14:05:04Z",
      "side": 1,
      "message": "I find the new name more confusing. This objects are the routes we advertise to others, not necessarily entries in our routing table. The name is ambiguous. I\u0027d rather have AdRoute, or AdvertisedRoute, for example.",
      "revId": "d09a73c3cb61fb14a6d878a8bfc1302bc4df017e",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1a106d94_ecec1af6",
        "filename": "midolman/src/main/scala/org/midonet/midolman/routingprotocols/BGPRoute.scala",
        "patchSetId": 12
      },
      "lineNbr": 45,
      "author": {
        "id": 1002751
      },
      "writtenOn": "2015-05-18T15:33:02Z",
      "side": 1,
      "message": "I agree that the name does not convey that the route is advertised. However, wouldn\u0027t it be ambiguous if will ever use a routing protocol other than BGP?\n\nI was planning to use the same name for the ZOOM object, do you think AdRoute is better for this purpose too?",
      "parentUuid": "1a106d94_14d9def2",
      "revId": "d09a73c3cb61fb14a6d878a8bfc1302bc4df017e",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1a106d94_0f76c806",
        "filename": "midolman/src/main/scala/org/midonet/midolman/routingprotocols/BGPRoute.scala",
        "patchSetId": 12
      },
      "lineNbr": 45,
      "author": {
        "id": 1002763
      },
      "writtenOn": "2015-05-18T17:36:27Z",
      "side": 1,
      "message": "Hey Alex,\n\nAbout the naming:\n\nYes: AdRoute, AdvertisedRoute, or even AdvertisedNetwork all sound more clear to me.\n\nOn the scoping by protocol:\n\nMaybe the same type of object can be used in two different lists: ospf-advertised routes, bgp-advertised routes. If we want to use different types, we can add a \u0027bgp\u0027 prefix the the names above. To know which option is best, maybe we should talk with midokureans who are more versed in routing protocols.\n\nRelated:\n\nI recently posted to our mailing list that our BGP model is broken. Maybe we should chat about fixing that in v1.10 along with this change? I\u0027m already preparing low-level changes to take advantage of the new model that will enable several sessions per port.",
      "parentUuid": "1a106d94_ecec1af6",
      "revId": "d09a73c3cb61fb14a6d878a8bfc1302bc4df017e",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "facab960_820e3a33",
        "filename": "midolman/src/main/scala/org/midonet/midolman/routingprotocols/BGPRoute.scala",
        "patchSetId": 12
      },
      "lineNbr": 45,
      "author": {
        "id": 1002751
      },
      "writtenOn": "2015-05-19T07:44:27Z",
      "side": 1,
      "message": "Thanks Guillermo, I just read the email the day before, and I\u0027ve also been given some though on the naming. AdRoute will be okay I think, with a field specifying the routing protocol.\n\nRight now the name derived from the fact that in the new storage model, all routes will be children of the same ZK node, e.g. AdRoute if we keep the old name. We should give some thought on whether this would raise some performance issues later on.",
      "parentUuid": "1a106d94_0f76c806",
      "revId": "d09a73c3cb61fb14a6d878a8bfc1302bc4df017e",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "facab960_6220569c",
        "filename": "midolman/src/main/scala/org/midonet/midolman/routingprotocols/BGPRoute.scala",
        "patchSetId": 12
      },
      "lineNbr": 45,
      "author": {
        "id": 1002751
      },
      "writtenOn": "2015-05-19T07:54:05Z",
      "side": 1,
      "message": "Ah, yes, and another issue was that of the bindings between classes of objects in the ZOOM storage. Since each \u0027AdRoute\u0027 will have a backreference to the BGP object, like:\n\n  store.declareBinding(classOf[Bgp], \"bgp_route_ids\", CASCADE, classOf[BgpRoute], \"bgp_id\", CLEAR)\n\nThis will make it an AdRoute class only for BGP peering. Initially I tried to refactor, but then running into these problems I postponed pending further discussion.",
      "parentUuid": "facab960_820e3a33",
      "revId": "d09a73c3cb61fb14a6d878a8bfc1302bc4df017e",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1a106d94_b4f1ea6c",
        "filename": "midolman/src/main/scala/org/midonet/midolman/routingprotocols/RoutingHandler.scala",
        "patchSetId": 12
      },
      "lineNbr": 339,
      "author": {
        "id": 1002763
      },
      "writtenOn": "2015-05-11T14:05:04Z",
      "side": 1,
      "message": "why?",
      "revId": "d09a73c3cb61fb14a6d878a8bfc1302bc4df017e",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1a106d94_94f4ae5b",
        "filename": "midolman/src/main/scala/org/midonet/midolman/routingprotocols/RoutingHandler.scala",
        "patchSetId": 12
      },
      "lineNbr": 345,
      "author": {
        "id": 1002763
      },
      "writtenOn": "2015-05-11T14:05:04Z",
      "side": 1,
      "message": "why?",
      "revId": "d09a73c3cb61fb14a6d878a8bfc1302bc4df017e",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1a106d94_1400be32",
        "filename": "midolman/src/main/scala/org/midonet/midolman/routingprotocols/RoutingManagerActor.scala",
        "patchSetId": 12
      },
      "lineNbr": 54,
      "author": {
        "id": 1002763
      },
      "writtenOn": "2015-05-11T14:06:55Z",
      "side": 1,
      "message": "this name is longer and less informative than zkConnWatcher",
      "revId": "d09a73c3cb61fb14a6d878a8bfc1302bc4df017e",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1a106d94_4cb9eeeb",
        "filename": "midolman/src/main/scala/org/midonet/midolman/routingprotocols/RoutingManagerActor.scala",
        "patchSetId": 12
      },
      "lineNbr": 54,
      "author": {
        "id": 1002751
      },
      "writtenOn": "2015-05-18T15:33:02Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "1a106d94_1400be32",
      "revId": "d09a73c3cb61fb14a6d878a8bfc1302bc4df017e",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    }
  ]
}