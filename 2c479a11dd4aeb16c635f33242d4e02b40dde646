{
  "comments": [
    {
      "key": {
        "uuid": "5aa745d1_5dce7b5b",
        "filename": "midolman/src/main/scala/org/midonet/midolman/simulation/LoadBalancer.scala",
        "patchSetId": 3
      },
      "lineNbr": 41,
      "author": {
        "id": 1002897
      },
      "writtenOn": "2016-12-01T16:37:13Z",
      "side": 1,
      "message": "these needs updates.",
      "range": {
        "startLine": 40,
        "startChar": 0,
        "endLine": 41,
        "endChar": 68
      },
      "revId": "2c479a11dd4aeb16c635f33242d4e02b40dde646",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5aa745d1_a00d5439",
        "filename": "midolman/src/main/scala/org/midonet/midolman/simulation/LoadBalancer.scala",
        "patchSetId": 3
      },
      "lineNbr": 41,
      "author": {
        "id": 1002740
      },
      "writtenOn": "2016-12-01T18:27:02Z",
      "side": 1,
      "message": "Handling this turned out to be messier than expected.  I ended up passing in pools to the constructor.",
      "parentUuid": "5aa745d1_5dce7b5b",
      "range": {
        "startLine": 40,
        "startChar": 0,
        "endLine": 41,
        "endChar": 68
      },
      "revId": "2c479a11dd4aeb16c635f33242d4e02b40dde646",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5aa745d1_9d9d235c",
        "filename": "midolman/src/main/scala/org/midonet/midolman/topology/PoolMapper.scala",
        "patchSetId": 3
      },
      "lineNbr": 170,
      "author": {
        "id": 1002897
      },
      "writtenOn": "2016-12-01T16:37:13Z",
      "side": 1,
      "message": "i was thinking to somehow modify vips\u0027 session persistence around here.\nmaybe your approach is better if we want to remove vip\u0027s one in future.",
      "revId": "2c479a11dd4aeb16c635f33242d4e02b40dde646",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5aa745d1_60106c4f",
        "filename": "midolman/src/main/scala/org/midonet/midolman/topology/PoolMapper.scala",
        "patchSetId": 3
      },
      "lineNbr": 170,
      "author": {
        "id": 1002740
      },
      "writtenOn": "2016-12-01T18:27:02Z",
      "side": 1,
      "message": "Yeah wasn\u0027t sure which way to go.  If doing it this way is much easier, I\u0027m all for it.  But yes, I do like to start matching our models to lbaas v2 models.",
      "parentUuid": "5aa745d1_9d9d235c",
      "revId": "2c479a11dd4aeb16c635f33242d4e02b40dde646",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5aa745d1_60d86cf0",
        "filename": "midolman/src/main/scala/org/midonet/midolman/topology/PoolMapper.scala",
        "patchSetId": 3
      },
      "lineNbr": 170,
      "author": {
        "id": 1003629
      },
      "writtenOn": "2016-12-02T01:39:16Z",
      "side": 1,
      "message": "If we will end up just modifying the VIP\u0027s session persistence based off the pool\u0027s session persistence anyway, then why not just do it in the translations, rather than complicating the simulation?  It seems simpler, if we were going to treat the Vip object as the source of all infmormation anyway.\n\nIn that vein, I feel Ryu\u0027s change to actually look at both values (priority on pool, fallback to VIP if pool isn\u0027t set) is more useful, because it is one step forward to obsolescing the old V1 model and removing VIP completely when we migrate to V2 model.",
      "parentUuid": "5aa745d1_9d9d235c",
      "revId": "2c479a11dd4aeb16c635f33242d4e02b40dde646",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5aa745d1_00ee488b",
        "filename": "midolman/src/main/scala/org/midonet/midolman/topology/PoolMapper.scala",
        "patchSetId": 3
      },
      "lineNbr": 170,
      "author": {
        "id": 1002740
      },
      "writtenOn": "2016-12-02T01:47:37Z",
      "side": 1,
      "message": "All of these approaches take one step closer to the changes to the data models, just that the size of the step differs.  We should weigh against the level of disruption it causes.  If you feel confident that my change is safe enough, I think we can go ahead with it.  The next step is to mark VIP\u0027s session persistence as deprecated in REST API, add it to Pool, and state that it will be removed when MidoNet stops support for LBaaSv1.",
      "parentUuid": "5aa745d1_60d86cf0",
      "revId": "2c479a11dd4aeb16c635f33242d4e02b40dde646",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    }
  ]
}